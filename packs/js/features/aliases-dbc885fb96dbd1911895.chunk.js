"use strict";(self.webpackChunksoapbox=self.webpackChunksoapbox||[]).push([[13],{1381:function(e,a,s){s.r(a),s.d(a,{default:function(){return C}});var t=s(1202),l=s(2109),i=(s(5),s(1)),n=s(2121),o=s(2122),c=s(2142),r=s(647),d=s(70),u=s(52),g=s(2),m=s(3),v=(s(28),s(31),s(36)),f=s(103),Z=s(205),h=(0,n.vU)({add:{id:"aliases.account.add",defaultMessage:"Create alias"}}),p=function(e){var a,l,i=e.accountId,n=e.aliases,c=(0,o.Z)(),d=(0,m.TL)(),u=(0,m.hz)(),p=(0,m.CG)((function(e){return e.me})),b=(0,v.mA)(i).account,_=null==b||null===(a=b.pleroma)||void 0===a?void 0:a.ap_id,M=u.accountMoving?null==b?void 0:b.acct:_,y=!!M&&n.includes(M);return b?(y||i===p||(l=(0,t.Z)(Z.Z,{src:s(179),iconClassName:"h-5 w-5",title:c.formatMessage(h.add),onClick:function(){return d((0,r.j4)(b))}})),(0,t.Z)(g.Ug,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,(0,t.Z)("div",{className:"w-full"},void 0,(0,t.Z)(f.Z,{account:b,withRelationship:!1})),l)):null},b=(s(6),s(56),s(702)),_=(0,n.vU)({search:{id:"aliases.search",defaultMessage:"Search your old account"},searchTitle:{id:"tabs_bar.search",defaultMessage:"Search"}}),M=function(){var e=(0,m.TL)(),a=(0,o.Z)(),l=(0,m.CG)((function(e){return e.aliases.suggestions.value})),i=l.length>0;return(0,t.Z)("div",{className:"flex items-center gap-1"},void 0,(0,t.Z)("label",{className:"relative grow"},void 0,(0,t.Z)("span",{style:{display:"none"}},void 0,a.formatMessage(_.search)),(0,t.Z)("input",{className:"block w-full rounded-full focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-800 dark:text-white dark:placeholder:text-gray-500 sm:text-sm",type:"text",value:l,onChange:function(a){e((0,r.lt)(a.target.value))},onKeyUp:function(a){13===a.keyCode&&e((0,r.YX)(l))},placeholder:a.formatMessage(_.search)}),(0,t.Z)("div",{role:"button",tabIndex:i?0:-1,className:"search__icon",onClick:function(){e((0,r.oy)())}},void 0,(0,t.Z)(d.Z,{src:s(1284),"aria-label":a.formatMessage(_.search),className:(0,b.default)("svg-icon--backspace",{active:i})}))),(0,t.Z)(g.zx,{onClick:function(){e((0,r.YX)(l))}},void 0,a.formatMessage(_.searchTitle)))},y=(0,n.vU)({heading:{id:"column.aliases",defaultMessage:"Account aliases"},subheading_add_new:{id:"column.aliases.subheading_add_new",defaultMessage:"Add New Alias"},create_error:{id:"column.aliases.create_error",defaultMessage:"Error creating alias"},delete_error:{id:"column.aliases.delete_error",defaultMessage:"Error deleting alias"},subheading_aliases:{id:"column.aliases.subheading_aliases",defaultMessage:"Current aliases"},delete:{id:"column.aliases.delete",defaultMessage:"Delete"}}),C=function(){var e=(0,o.Z)(),a=(0,m.TL)(),n=(0,m.hz)(),v=(0,m.Tr)().account,f=(0,m.CG)((function(e){return n.accountMoving?(0,l.Z)(e.aliases.aliases.items):null!==(a=null==v||null===(s=v.pleroma)||void 0===s?void 0:s.also_known_as)&&void 0!==a?a:[];var a,s})),Z=(0,m.CG)((function(e){return e.aliases.suggestions.items})),h=(0,m.CG)((function(e){return e.aliases.suggestions.loaded}));(0,i.useEffect)((function(){a(r.Ir)}),[]);var b=function(e){a((0,r.vu)(e.currentTarget.dataset.value))},_=(0,t.Z)(c.Z,{id:"empty_column.aliases",defaultMessage:"You haven't created any account alias yet."});return(0,t.Z)(g.sg,{className:"aliases-settings-panel",label:e.formatMessage(y.heading)},void 0,(0,t.Z)(g.Ol,{},void 0,(0,t.Z)(g.ll,{title:e.formatMessage(y.subheading_add_new)})),(0,t.Z)(M,{}),h&&0===Z.size?(0,t.Z)("div",{className:"aliases__accounts empty-column-indicator"},void 0,(0,t.Z)(c.Z,{id:"empty_column.aliases.suggestions",defaultMessage:"There are no account suggestions available for the provided term."})):(0,t.Z)("div",{className:"aliases__accounts mb-4"},void 0,Z.map((function(e){return(0,t.Z)(p,{accountId:e,aliases:f},e)}))),(0,t.Z)(g.Ol,{},void 0,(0,t.Z)(g.ll,{title:e.formatMessage(y.subheading_aliases)})),(0,t.Z)("div",{className:"aliases-settings-panel"},void 0,(0,t.Z)(u.Z,{scrollKey:"aliases",emptyMessage:_},void 0,f.map((function(a,l){return(0,t.Z)(g.Ug,{alignItems:"center",justifyContent:"between",space:1,className:"p-2"},l,(0,t.Z)("div",{},void 0,(0,t.Z)(g.xv,{tag:"span",theme:"muted"},void 0,(0,t.Z)(c.Z,{id:"aliases.account_label",defaultMessage:"Old account:"}))," ",(0,t.Z)(g.xv,{tag:"span"},void 0,a)),(0,t.Z)("div",{className:"flex items-center",role:"button",tabIndex:0,onClick:b,"data-value":a,"aria-label":e.formatMessage(y.delete)},void 0,(0,t.Z)(d.Z,{className:"mr-1.5",src:s(82)}),(0,t.Z)(g.xv,{weight:"bold",theme:"muted"},void 0,(0,t.Z)(c.Z,{id:"aliases.aliases_list_delete",defaultMessage:"Unlink alias"}))))})))))}}}]);
//# sourceMappingURL=aliases-dbc885fb96dbd1911895.chunk.js.map