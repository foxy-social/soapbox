"use strict";(self.webpackChunksoapbox=self.webpackChunksoapbox||[]).push([[73],{1365:function(e,s,t){t.r(s),t.d(s,{default:function(){return v}});var a=t(1202),i=(t(4),t(1)),n=t(2121),o=t(2122),l=t(2142),r=t(2112),u=t(573),c=t(100),g=t(2),d=t(3),f=t(902),m=t(1285),p=(0,n.vU)({label:{id:"settings.messages.label",defaultMessage:"Allow users to start a new chat with you"}}),Z=function(){var e,s=(0,d.Tr)().account,t=(0,o.Z)(),i=(0,m.H)();return s?(0,a.Z)(c.Z,{},void 0,(0,a.Z)(c.H,{label:t.formatMessage(p.label)},void 0,(0,a.Z)(g.ZD,{checked:null===(e=s.pleroma)||void 0===e?void 0:e.accepts_chat_messages,onChange:function(e){i.mutate({accepts_chat_messages:e.target.checked})}}))):null},M=(0,n.vU)({accountAliases:{id:"navigation_bar.account_aliases",defaultMessage:"Account aliases"},accountMigration:{id:"settings.account_migration",defaultMessage:"Move Account"},backups:{id:"column.backups",defaultMessage:"Backups"},blocks:{id:"settings.blocks",defaultMessage:"Blocks"},changeEmail:{id:"settings.change_email",defaultMessage:"Change Email"},changePassword:{id:"settings.change_password",defaultMessage:"Change Password"},configureMfa:{id:"settings.configure_mfa",defaultMessage:"Configure MFA"},deleteAccount:{id:"settings.delete_account",defaultMessage:"Delete Account"},editProfile:{id:"settings.edit_profile",defaultMessage:"Edit Profile"},exportData:{id:"column.export_data",defaultMessage:"Export data"},importData:{id:"navigation_bar.import_data",defaultMessage:"Import data"},mfaDisabled:{id:"mfa.disabled",defaultMessage:"Disabled"},mfaEnabled:{id:"mfa.enabled",defaultMessage:"Enabled"},mutes:{id:"settings.mutes",defaultMessage:"Mutes"},other:{id:"settings.other",defaultMessage:"Other options"},preferences:{id:"settings.preferences",defaultMessage:"Preferences"},privacy:{id:"settings.privacy",defaultMessage:"Privacy"},profile:{id:"settings.profile",defaultMessage:"Profile"},security:{id:"settings.security",defaultMessage:"Security"},sessions:{id:"settings.sessions",defaultMessage:"Active sessions"},settings:{id:"settings.settings",defaultMessage:"Settings"}}),v=function(){var e=(0,d.TL)(),s=(0,r.k6)(),t=(0,o.Z)(),n=(0,d.CG)((function(e){return e.security.get("mfa")})),m=(0,d.hz)(),p=(0,d.Tr)().account,v=n.getIn(["settings","totp"]);if((0,i.useEffect)((function(){m.security&&e((0,u.PD)())}),[e]),!p)return null;var b=p.display_name||p.username;return(0,a.Z)(g.sg,{label:t.formatMessage(M.settings),transparent:!0,withHeader:!1},void 0,(0,a.Z)(g.Zb,{className:"space-y-4",variant:"rounded"},void 0,(0,a.Z)(g.Ol,{},void 0,(0,a.Z)(g.ll,{title:t.formatMessage(M.profile)})),(0,a.Z)(g.eW,{},void 0,(0,a.Z)(c.Z,{},void 0,(0,a.Z)(c.H,{label:t.formatMessage(M.editProfile),onClick:function(){return s.push("/settings/profile")}},void 0,(0,a.Z)("span",{className:"max-w-full truncate"},void 0,b)))),(0,a.Z)(g.Ol,{},void 0,(0,a.Z)(g.ll,{title:t.formatMessage(M.privacy)})),(0,a.Z)(g.eW,{},void 0,(0,a.Z)(c.Z,{},void 0,(0,a.Z)(c.H,{label:t.formatMessage(M.mutes),onClick:function(){return s.push("/mutes")}}),(0,a.Z)(c.H,{label:t.formatMessage(M.blocks),onClick:function(){return s.push("/blocks")}}))),(m.security||m.sessions)&&i.createElement(i.Fragment,null,(0,a.Z)(g.Ol,{},void 0,(0,a.Z)(g.ll,{title:t.formatMessage(M.security)})),(0,a.Z)(g.eW,{},void 0,(0,a.Z)(c.Z,{},void 0,m.security&&i.createElement(i.Fragment,null,(0,a.Z)(c.H,{label:t.formatMessage(M.changeEmail),onClick:function(){return s.push("/settings/email")}}),(0,a.Z)(c.H,{label:t.formatMessage(M.changePassword),onClick:function(){return s.push("/settings/password")}}),(0,a.Z)(c.H,{label:t.formatMessage(M.configureMfa),onClick:function(){return s.push("/settings/mfa")}},void 0,(0,a.Z)("span",{},void 0,v?t.formatMessage(M.mfaEnabled):t.formatMessage(M.mfaDisabled)))),m.sessions&&(0,a.Z)(c.H,{label:t.formatMessage(M.sessions),onClick:function(){return s.push("/settings/tokens")}})))),m.chats?i.createElement(i.Fragment,null,(0,a.Z)(g.Ol,{},void 0,(0,a.Z)(g.ll,{title:(0,a.Z)(l.Z,{id:"column.chats",defaultMessage:"Chats"})})),(0,a.Z)(g.eW,{},void 0,(0,a.Z)(Z,{}))):null,(0,a.Z)(g.Ol,{},void 0,(0,a.Z)(g.ll,{title:t.formatMessage(M.preferences)})),(0,a.Z)(g.eW,{},void 0,(0,a.Z)(f.Z,{})),(m.security||m.accountAliases)&&i.createElement(i.Fragment,null,(0,a.Z)(g.Ol,{},void 0,(0,a.Z)(g.ll,{title:t.formatMessage(M.other)})),(0,a.Z)(g.eW,{},void 0,(0,a.Z)(c.Z,{},void 0,m.importData&&(0,a.Z)(c.H,{label:t.formatMessage(M.importData),onClick:function(){return s.push("/settings/import")}}),m.exportData&&(0,a.Z)(c.H,{label:t.formatMessage(M.exportData),onClick:function(){return s.push("/settings/export")}}),m.backups&&(0,a.Z)(c.H,{label:t.formatMessage(M.backups),onClick:function(){return s.push("/settings/backups")}}),m.federating&&(m.accountMoving?(0,a.Z)(c.H,{label:t.formatMessage(M.accountMigration),onClick:function(){return s.push("/settings/migration")}}):m.accountAliases&&(0,a.Z)(c.H,{label:t.formatMessage(M.accountAliases),onClick:function(){return s.push("/settings/aliases")}})),m.security&&(0,a.Z)(c.H,{label:(0,a.Z)(g.xv,{theme:"danger"},void 0,t.formatMessage(M.deleteAccount)),onClick:function(){return s.push("/settings/account")}}))))))}}}]);
//# sourceMappingURL=settings-481e232a6dc553c75fd9.chunk.js.map