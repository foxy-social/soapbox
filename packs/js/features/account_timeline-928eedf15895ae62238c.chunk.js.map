{"version":3,"file":"packs/js/features/account_timeline-928eedf15895ae62238c.chunk.js","mappings":"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","sources":["webpack://soapbox/./app/soapbox/features/account-timeline/index.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-field.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-fields-panel.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-familiar-followers.tsx","webpack://soapbox/./app/soapbox/features/ui/components/profile-info-panel.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{FormattedMessage}from'react-intl';import{useHistory}from'react-router-dom';import{fetchAccountByUsername}from'soapbox/actions/accounts';import{fetchPatronAccount}from'soapbox/actions/patron';import{expandAccountFeaturedTimeline,expandAccountTimeline}from'soapbox/actions/timelines';import{useAccountLookup}from'soapbox/api/hooks';import MissingIndicator from'soapbox/components/missing-indicator';import StatusList from'soapbox/components/status-list';import{Card,CardBody,Spinner,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useFeatures,useSettings,useSoapboxConfig}from'soapbox/hooks';import{makeGetStatusIds}from'soapbox/selectors';var getStatusIds=makeGetStatusIds();var AccountTimeline=function AccountTimeline(_ref){var params=_ref.params,_ref$withReplies=_ref.withReplies,withReplies=_ref$withReplies===void 0?false:_ref$withReplies;var history=useHistory();var dispatch=useAppDispatch();var features=useFeatures();var settings=useSettings();var soapboxConfig=useSoapboxConfig();var _useAccountLookup=useAccountLookup(params.username,{withRelationship:true}),account=_useAccountLookup.account;var _useState=useState(!account),_useState2=_slicedToArray(_useState,2),accountLoading=_useState2[0],setAccountLoading=_useState2[1];var path=withReplies?\"\".concat(account===null||account===void 0?void 0:account.id,\":with_replies\"):account===null||account===void 0?void 0:account.id;var showPins=settings.getIn(['account_timeline','shows','pinned'])===true&&!withReplies;var statusIds=useAppSelector(function(state){return getStatusIds(state,{type:\"account:\".concat(path),prefix:'account_timeline'});});var featuredStatusIds=useAppSelector(function(state){return getStatusIds(state,{type:\"account:\".concat(account===null||account===void 0?void 0:account.id,\":pinned\"),prefix:'account_timeline'});});var isBlocked=useAppSelector(function(state){return state.relationships.getIn([account===null||account===void 0?void 0:account.id,'blocked_by'])===true;});var unavailable=isBlocked&&!features.blockersVisible;var patronEnabled=soapboxConfig.getIn(['extensions','patron','enabled'])===true;var isLoading=useAppSelector(function(state){return state.getIn(['timelines',\"account:\".concat(path),'isLoading'])===true;});var hasMore=useAppSelector(function(state){return state.getIn(['timelines',\"account:\".concat(path),'hasMore'])===true;});var next=useAppSelector(function(state){var _state$timelines$get;return(_state$timelines$get=state.timelines.get(\"account:\".concat(path)))===null||_state$timelines$get===void 0?void 0:_state$timelines$get.next;});var accountUsername=(account===null||account===void 0?void 0:account.username)||params.username;useEffect(function(){dispatch(fetchAccountByUsername(params.username,history)).then(function(){return setAccountLoading(false);}).catch(function(){return setAccountLoading(false);});},[params.username]);useEffect(function(){if(account&&!withReplies){dispatch(expandAccountFeaturedTimeline(account.id));}},[account===null||account===void 0?void 0:account.id,withReplies]);useEffect(function(){if(account&&patronEnabled){dispatch(fetchPatronAccount(account.url));}},[account===null||account===void 0?void 0:account.url,patronEnabled]);useEffect(function(){if(account){dispatch(expandAccountTimeline(account.id,{withReplies:withReplies}));}},[account===null||account===void 0?void 0:account.id,withReplies]);var handleLoadMore=function handleLoadMore(maxId){if(account){dispatch(expandAccountTimeline(account.id,{url:next,maxId:maxId,withReplies:withReplies}));}};if(!account&&accountLoading){return/*#__PURE__*/_jsx(Spinner,{});}else if(!account){return/*#__PURE__*/_jsx(MissingIndicator,{nested:true});}if(unavailable){return/*#__PURE__*/_jsx(Card,{},void 0,/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(Text,{align:\"center\"},void 0,isBlocked?/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_blocked\",defaultMessage:\"You are blocked by @{accountUsername}.\",values:{accountUsername:accountUsername}}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_unavailable\",defaultMessage:\"Profile unavailable\"}))));}return/*#__PURE__*/_jsx(StatusList,{scrollKey:\"account_timeline\",statusIds:statusIds,featuredStatusIds:showPins?featuredStatusIds:undefined,isLoading:isLoading,hasMore:hasMore,onLoadMore:handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_timeline\",defaultMessage:\"No posts here!\"})});};export default AccountTimeline;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.regexp.exec.js\";import\"core-js/modules/es.string.match.js\";import clsx from'clsx';import React from'react';import{defineMessages,useIntl}from'react-intl';import Markup from'soapbox/components/markup';import{HStack,Icon}from'soapbox/components/ui';import BundleContainer from'soapbox/features/ui/containers/bundle-container';import{CryptoAddress}from'soapbox/features/ui/util/async-components';var getTicker=function getTicker(value){return(value.match(/\\$([a-zA-Z]*)/i)||[])[1];};var isTicker=function isTicker(value){return Boolean(getTicker(value));};var messages=defineMessages({linkVerifiedOn:{\"id\":\"account.link_verified_on\",\"defaultMessage\":\"Ownership of this link was checked on {date}\"}});var dateFormatOptions={month:'short',day:'numeric',year:'numeric',hour12:true,hour:'numeric',minute:'2-digit'};/** Renders a single profile field. */var ProfileField=function ProfileField(_ref){var field=_ref.field;var intl=useIntl();if(isTicker(field.name)){return/*#__PURE__*/_jsx(BundleContainer,{fetchComponent:CryptoAddress},void 0,function(Component){return/*#__PURE__*/_jsx(Component,{ticker:getTicker(field.name).toLowerCase(),address:field.value_plain});});}return/*#__PURE__*/_jsx(\"dl\",{},void 0,/*#__PURE__*/_jsx(\"dt\",{title:field.name},void 0,/*#__PURE__*/_jsx(Markup,{weight:\"bold\",tag:\"span\",dangerouslySetInnerHTML:{__html:field.name_emojified}})),/*#__PURE__*/_jsx(\"dd\",{className:clsx({'text-success-500':field.verified_at}),title:field.value_plain},void 0,/*#__PURE__*/_jsx(HStack,{space:2,alignItems:\"center\"},void 0,field.verified_at&&/*#__PURE__*/_jsx(\"span\",{className:\"flex-none\",title:intl.formatMessage(messages.linkVerifiedOn,{date:intl.formatDate(field.verified_at,dateFormatOptions)})},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/check.svg')})),/*#__PURE__*/_jsx(Markup,{className:\"overflow-hidden break-words\",tag:\"span\",dangerouslySetInnerHTML:{__html:field.value_emojified}}))));};export default ProfileField;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import React from'react';import{FormattedMessage}from'react-intl';import{Widget,Stack}from'soapbox/components/ui';import ProfileField from'./profile-field';/** Custom profile fields for sidebar. */var ProfileFieldsPanel=function ProfileFieldsPanel(_ref){var account=_ref.account;return/*#__PURE__*/_jsx(Widget,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"profile_fields_panel.title\",defaultMessage:\"Profile fields\"})},void 0,/*#__PURE__*/_jsx(Stack,{space:4},void 0,account.fields.map(function(field,i){return/*#__PURE__*/_jsx(ProfileField,{field:field},i);})));};export default ProfileFieldsPanel;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.slice.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.promise.js\";import\"core-js/modules/es.array.push.js\";import{OrderedSet as ImmutableOrderedSet}from'immutable';import React,{useEffect}from'react';import{FormattedList,FormattedMessage}from'react-intl';import{Link}from'react-router-dom';import{fetchAccountFamiliarFollowers}from'soapbox/actions/familiar-followers';import{openModal}from'soapbox/actions/modals';import HoverRefWrapper from'soapbox/components/hover-ref-wrapper';import{Text}from'soapbox/components/ui';import VerificationBadge from'soapbox/components/verification-badge';import{useAppDispatch,useAppSelector,useFeatures}from'soapbox/hooks';import{makeGetAccount}from'soapbox/selectors';var getAccount=makeGetAccount();var ProfileFamiliarFollowers=function ProfileFamiliarFollowers(_ref){var account=_ref.account;var dispatch=useAppDispatch();var me=useAppSelector(function(state){return state.me;});var features=useFeatures();var familiarFollowerIds=useAppSelector(function(state){var _state$user_lists$fam;return((_state$user_lists$fam=state.user_lists.familiar_followers.get(account.id))===null||_state$user_lists$fam===void 0?void 0:_state$user_lists$fam.items)||ImmutableOrderedSet();});var familiarFollowers=useAppSelector(function(state){return familiarFollowerIds.slice(0,2).map(function(accountId){return getAccount(state,accountId);});});useEffect(function(){if(me&&features.familiarFollowers){dispatch(fetchAccountFamiliarFollowers(account.id));}},[]);var openFamiliarFollowersModal=function openFamiliarFollowersModal(){dispatch(openModal('FAMILIAR_FOLLOWERS',{accountId:account.id}));};if(familiarFollowerIds.size===0){return null;}var accounts=familiarFollowers.map(function(account){return!!account&&/*#__PURE__*/_jsx(HoverRefWrapper,{accountId:account.id,inline:true},void 0,/*#__PURE__*/_jsx(Link,{className:\"mention\",to:\"/@\".concat(account.acct)},void 0,/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:account.display_name_html}}),account.verified&&/*#__PURE__*/_jsx(VerificationBadge,{})));}).toArray();if(familiarFollowerIds.size>2){accounts.push(/*#__PURE__*/_jsx(\"span\",{className:\"cursor-pointer hover:underline\",role:\"presentation\",onClick:openFamiliarFollowersModal},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.familiar_followers.more\",defaultMessage:\"{count, plural, one {# other} other {# others}} you follow\",values:{count:familiarFollowerIds.size-familiarFollowers.size}})));}return/*#__PURE__*/_jsx(Text,{theme:\"muted\",size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.familiar_followers\",defaultMessage:\"Followed by {accounts}\",values:{accounts:/*#__PURE__*/_jsx(FormattedList,{type:\"conjunction\",value:accounts})}}));};export default ProfileFamiliarFollowers;","'use strict';import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.iterator.js\";import\"core-js/modules/es.object.to-string.js\";import\"core-js/modules/es.string.iterator.js\";import\"core-js/modules/web.dom-collections.iterator.js\";import\"core-js/modules/web.url.js\";import\"core-js/modules/web.url-search-params.js\";import\"core-js/modules/es.array.includes.js\";import\"core-js/modules/es.array.map.js\";import\"core-js/modules/es.array.push.js\";import\"core-js/modules/es.array.concat.js\";import React from'react';import{defineMessages,useIntl,FormattedMessage}from'react-intl';import{usePatronUser}from'soapbox/api/hooks';import Badge from'soapbox/components/badge';import Markup from'soapbox/components/markup';import{Icon,HStack,Stack,Text}from'soapbox/components/ui';import{useAppSelector,useSoapboxConfig}from'soapbox/hooks';import{isLocal}from'soapbox/utils/accounts';import{badgeToTag,getBadges as getAccountBadges}from'soapbox/utils/badges';import{capitalize}from'soapbox/utils/strings';import ProfileFamiliarFollowers from'./profile-familiar-followers';import ProfileField from'./profile-field';import ProfileStats from'./profile-stats';/** Basically ensure the URL isn't `javascript:alert('hi')` or something like that */var isSafeUrl=function isSafeUrl(text){try{var url=new URL(text);return['http:','https:'].includes(url.protocol);}catch(e){return false;}};var messages=defineMessages({linkVerifiedOn:{\"id\":\"account.link_verified_on\",\"defaultMessage\":\"Ownership of this link was checked on {date}\"},account_locked:{\"id\":\"account.locked_info\",\"defaultMessage\":\"This account privacy status is set to locked. The owner manually reviews who can follow them.\"},deactivated:{\"id\":\"account.deactivated\",\"defaultMessage\":\"Deactivated\"},bot:{\"id\":\"account.badges.bot\",\"defaultMessage\":\"Bot\"}});/** User profile metadata, such as location, birthday, etc. */var ProfileInfoPanel=function ProfileInfoPanel(_ref){var _account$pleroma$deac,_account$pleroma2;var account=_ref.account,username=_ref.username;var intl=useIntl();var _useSoapboxConfig=useSoapboxConfig(),displayFqn=_useSoapboxConfig.displayFqn;var _usePatronUser=usePatronUser(account===null||account===void 0?void 0:account.url),patronUser=_usePatronUser.patronUser;var me=useAppSelector(function(state){return state.me;});var ownAccount=(account===null||account===void 0?void 0:account.id)===me;var getStaffBadge=function getStaffBadge(){if(account!==null&&account!==void 0&&account.admin){return/*#__PURE__*/_jsx(Badge,{slug:\"admin\",title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"account_moderation_modal.roles.admin\",defaultMessage:\"Admin\"})},\"staff\");}else if(account!==null&&account!==void 0&&account.moderator){return/*#__PURE__*/_jsx(Badge,{slug:\"moderator\",title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"account_moderation_modal.roles.moderator\",defaultMessage:\"Moderator\"})},\"staff\");}else{return null;}};var getCustomBadges=function getCustomBadges(){var badges=account?getAccountBadges(account):[];return badges.map(function(badge){return/*#__PURE__*/_jsx(Badge,{slug:badge,title:capitalize(badgeToTag(badge))},badge);});};var getBadges=function getBadges(){var custom=getCustomBadges();var staffBadge=getStaffBadge();var isPatron=(patronUser===null||patronUser===void 0?void 0:patronUser.is_patron)===true;var badges=[];if(staffBadge){badges.push(staffBadge);}if(isPatron){badges.push(/*#__PURE__*/_jsx(Badge,{slug:\"patron\",title:\"Patron\"},\"patron\"));}return[].concat(badges,_toConsumableArray(custom));};var renderBirthday=function renderBirthday(){var _account$pleroma;var birthday=account===null||account===void 0?void 0:(_account$pleroma=account.pleroma)===null||_account$pleroma===void 0?void 0:_account$pleroma.birthday;if(!birthday)return null;var formattedBirthday=intl.formatDate(birthday,{timeZone:'UTC',day:'numeric',month:'long',year:'numeric'});var date=new Date(birthday);var today=new Date();var hasBirthday=date.getDate()===today.getDate()&&date.getMonth()===today.getMonth();return/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/balloon.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(Text,{size:\"sm\"},void 0,hasBirthday?/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.birthday_today\",defaultMessage:\"Birthday is today!\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.birthday\",defaultMessage:\"Born {date}\",values:{date:formattedBirthday}})));};if(!account){return/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 min-w-0 flex-1 sm:px-2\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"muted\",direction:\"ltr\",truncate:true},void 0,\"@\",username)))));}var content={__html:account.note_emojified};var deactivated=(_account$pleroma$deac=(_account$pleroma2=account.pleroma)===null||_account$pleroma2===void 0?void 0:_account$pleroma2.deactivated)!==null&&_account$pleroma$deac!==void 0?_account$pleroma$deac:false;var displayNameHtml=deactivated?{__html:intl.formatMessage(messages.deactivated)}:{__html:account.display_name_html};var memberSinceDate=intl.formatDate(account.created_at,{month:'long',year:'numeric'});var badges=getBadges();return/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 min-w-0 flex-1 sm:px-2\"},void 0,/*#__PURE__*/_jsx(Stack,{space:2},void 0,/*#__PURE__*/_jsx(Stack,{},void 0,/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"lg\",weight:\"bold\",dangerouslySetInnerHTML:displayNameHtml,truncate:true}),account.bot&&/*#__PURE__*/_jsx(Badge,{slug:\"bot\",title:intl.formatMessage(messages.bot)}),badges.length>0&&/*#__PURE__*/_jsx(HStack,{space:1,alignItems:\"center\"},void 0,badges)),/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Text,{size:\"sm\",theme:\"muted\",direction:\"ltr\",truncate:true},void 0,\"@\",displayFqn?account.fqn:account.acct),account.locked&&/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/lock.svg'),alt:intl.formatMessage(messages.account_locked),className:\"h-4 w-4 text-gray-600\"}))),/*#__PURE__*/_jsx(ProfileStats,{account:account}),account.note.length>0&&/*#__PURE__*/_jsx(Markup,{size:\"sm\",dangerouslySetInnerHTML:content}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col items-start gap-2 md:flex-row md:flex-wrap md:items-center\"},void 0,isLocal(account)?/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/calendar.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(Text,{size:\"sm\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"account.member_since\",defaultMessage:\"Joined {date}\",values:{date:memberSinceDate}}))):null,account.location?/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/map-pin.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(Text,{size:\"sm\"},void 0,account.location)):null,account.website?/*#__PURE__*/_jsx(HStack,{alignItems:\"center\",space:0.5},void 0,/*#__PURE__*/_jsx(Icon,{src:require('@tabler/icons/link.svg'),className:\"h-4 w-4 text-gray-800 dark:text-gray-200\"}),/*#__PURE__*/_jsx(\"div\",{className:\"max-w-[300px]\"},void 0,/*#__PURE__*/_jsx(Text,{size:\"sm\",truncate:true},void 0,isSafeUrl(account.website)?/*#__PURE__*/_jsx(\"a\",{className:\"text-primary-600 hover:underline dark:text-accent-blue\",href:account.website,target:\"_blank\"},void 0,account.website):account.website))):null,renderBirthday()),ownAccount?null:/*#__PURE__*/_jsx(ProfileFamiliarFollowers,{account:account})),account.fields.length>0&&/*#__PURE__*/_jsx(Stack,{space:2,className:\"mt-4 xl:hidden\"},void 0,account.fields.map(function(field,i){return/*#__PURE__*/_jsx(ProfileField,{field:field},i);})));};export default ProfileInfoPanel;"],"names":["getStatusIds","_ref","params","_ref$withReplies","withReplies","history","dispatch","features","settings","soapboxConfig","account","username","withRelationship","_useState","useState","_useState2","accountLoading","setAccountLoading","path","concat","id","showPins","getIn","statusIds","state","type","prefix","featuredStatusIds","isBlocked","relationships","unavailable","blockersVisible","patronEnabled","isLoading","hasMore","next","_state$timelines$get","timelines","get","accountUsername","useEffect","then","catch","url","align","defaultMessage","values","scrollKey","undefined","onLoadMore","maxId","emptyMessage","nested","getTicker","value","match","messages","linkVerifiedOn","dateFormatOptions","month","day","year","hour12","hour","minute","field","intl","name","Boolean","fetchComponent","Component","ticker","toLowerCase","address","value_plain","title","weight","tag","dangerouslySetInnerHTML","__html","name_emojified","className","verified_at","space","alignItems","formatMessage","date","formatDate","src","value_emojified","fields","map","i","getAccount","me","familiarFollowerIds","_state$user_lists$fam","user_lists","familiar_followers","items","familiarFollowers","slice","accountId","size","accounts","inline","to","acct","display_name_html","verified","toArray","push","role","onClick","count","theme","account_locked","deactivated","bot","_account$pleroma$deac","_account$pleroma2","useIntl","displayFqn","patronUser","ownAccount","direction","truncate","content","note_emojified","displayNameHtml","pleroma","memberSinceDate","created_at","badges","custom","badge","slug","staffBadge","admin","moderator","isPatron","is_patron","getBadges","length","fqn","locked","alt","note","location","website","text","URL","includes","protocol","e","isSafeUrl","href","target","_account$pleroma","birthday","formattedBirthday","timeZone","Date","today","hasBirthday","getDate","getMonth","renderBirthday"],"sourceRoot":""}