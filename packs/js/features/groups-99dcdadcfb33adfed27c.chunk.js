(self.webpackChunksoapbox=self.webpackChunksoapbox||[]).push([[50],{970:function(e,t,a){"use strict";a.d(t,{z:function(){return u}});var r=a(1202),n=a(702),o=a(2142),i=a(2141),s=a(2),u=function(e){var t=e.to,u=e.count,d=e.size,c=void 0===d?"md":d;return(0,r.Z)(i.rU,{to:t,className:"group","data-testid":"pending-items-row"},void 0,(0,r.Z)(s.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(s.Ug,{alignItems:"center",space:2},void 0,(0,r.Z)("div",{className:(0,n.default)("rounded-full bg-primary-200 text-primary-500 dark:bg-primary-800 dark:text-primary-200",{"p-3":"lg"===c,"p-2.5":"md"===c})},void 0,(0,r.Z)(s.JO,{src:a(2101),className:(0,n.default)({"h-5 w-5":"md"===c,"h-7 w-7":"lg"===c})})),(0,r.Z)(s.xv,{weight:"bold",size:"md"},void 0,(0,r.Z)(o.Z,{id:"groups.pending.count",defaultMessage:"{number, plural, one {# pending request} other {# pending requests}}",values:{number:u}}))),(0,r.Z)(s.JO,{src:a(241),className:"h-5 w-5 text-gray-600 transition-colors group-hover:text-gray-700 dark:text-gray-600 dark:group-hover:text-gray-500"})))}},1435:function(e,t,a){"use strict";var r=a(1202),n=(a(6),a(21),a(1)),o=a(2121),i=a(2142),s=a(2122),u=a(2),d=(0,o.vU)({hashtagPlaceholder:{id:"manage_group.fields.hashtag_placeholder",defaultMessage:"Add a topic"}}),c=function(e){var t=e.value,a=e.onChange,o=e.autoFocus,i=void 0!==o&&o,c=(0,s.Z)(),l=(0,n.useMemo)((function(){return"#".concat(t)}),[t]);return(0,r.Z)(u.II,{outerClassName:"w-full",type:"text",value:l,onChange:function(e){var t=e.target;a(t.value.replace("#",""))},placeholder:c.formatMessage(d.hashtagPlaceholder),autoFocus:i})};t.Z=function(e){var t=e.tags,a=e.onChange,n=e.onAddItem,o=e.onRemoveItem,s=e.maxItems,d=void 0===s?3:s;return(0,r.Z)(u.uc,{label:(0,r.Z)(i.Z,{id:"group.tags.label",defaultMessage:"Tags"}),hint:(0,r.Z)(i.Z,{id:"group.tags.hint",defaultMessage:"Add up to 3 keywords that will serve as core topics of discussion in the group."}),component:c,values:t,onChange:a,onAddItem:n,onRemoveItem:o,maxItems:d,minItems:1})}},1248:function(e,t,a){"use strict";a.r(t);var r=a(1203),n=a(1202),o=a(2109),i=a(1196),s=a(2111),u=(a(40),a(44),a(0),a(25),a(9),a(75),a(8),a(55),a(5),a(1)),d=a(2121),c=a(2122),l=a(2142),g=a(36),m=a(2),p=a(3),f=a(828),v=a(34),Z=a(111),h=a(829),b=a(830),y=a(1435),M=function(e){return e&&(0,Z.NF)(e)?void 0:e},x=(0,d.vU)({heading:{id:"navigation_bar.edit_group",defaultMessage:"Edit Group"},groupNamePlaceholder:{id:"manage_group.fields.name_placeholder",defaultMessage:"Group Name"},groupDescriptionPlaceholder:{id:"manage_group.fields.description_placeholder",defaultMessage:"Description"},groupSaved:{id:"group.update.success",defaultMessage:"Group successfully saved"}});t.default=function(e){var t,d,w=e.params.groupId,_=(0,c.Z)(),N=(0,p.fz)(),k=(0,g._v)(w),C=k.group,I=k.isLoading,O=(0,g.Sc)(w).updateGroup,S=(0,g.ML)(w).invalidate,T=(0,u.useState)(!1),P=(0,s.Z)(T,2),R=P[0],E=P[1],U=(0,u.useState)([""]),j=(0,s.Z)(U,2),G=j[0],L=j[1],z=(0,f.XB)({maxPixels:16e4,preview:(d=null==C?void 0:C.avatar,d&&(0,Z.z_)(d)?void 0:d)}),F=(0,f.XB)({maxPixels:2073600,preview:M(null==C?void 0:C.header)}),q=(0,f.hR)(null==C?void 0:C.display_name),A=(0,f.hR)(null==C?void 0:C.note_plain),D=Number(N.configuration.getIn(["groups","max_characters_name"])),K=Number(N.configuration.getIn(["groups","max_characters_description"])),H=null===(t=(0,p.CG)((function(e){return e.instance.configuration.getIn(["media_attachments","supported_mime_types"])})))||void 0===t?void 0:t.filter((function(e){return e.startsWith("image/")})).toArray().join(",");function W(){return(W=(0,i.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,O({display_name:q.value,note:A.value,avatar:null===z.file?"":z.file,header:null===F.file?"":F.file,tags:G},{onSuccess:function(){S(),v.Z.success(_.formatMessage(x.groupSaved))},onError:function(e){var t,a,r,n=null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error;422===(null===(r=e.response)||void 0===r?void 0:r.status)&&void 0!==n&&v.Z.error(n)}});case 3:E(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,u.useEffect)((function(){C&&L(C.tags.map((function(e){return e.name})))}),[null==C?void 0:C.id]),I?(0,n.Z)(m.$j,{}):(0,n.Z)(m.sg,{label:_.formatMessage(x.heading)},void 0,(0,n.Z)(m.l0,{onSubmit:function(){return W.apply(this,arguments)}},void 0,(0,n.Z)("div",{className:"relative mb-12 flex"},void 0,u.createElement(b.Z,(0,r.Z)({accept:H,disabled:R},F)),u.createElement(h.Z,(0,r.Z)({accept:H,disabled:R},z))),(0,n.Z)(m.cw,{labelText:(0,n.Z)(l.Z,{id:"manage_group.fields.name_label_optional",defaultMessage:"Group name"}),hintText:(0,n.Z)(l.Z,{id:"manage_group.fields.cannot_change_hint",defaultMessage:"This cannot be changed after the group is created."})},void 0,u.createElement(m.II,(0,r.Z)({type:"text",placeholder:_.formatMessage(x.groupNamePlaceholder),maxLength:D},q,{append:(0,n.Z)(m.JO,{className:"h-5 w-5 text-gray-600",src:a(207)}),disabled:!0}))),(0,n.Z)(m.cw,{labelText:(0,n.Z)(l.Z,{id:"manage_group.fields.description_label",defaultMessage:"Description"})},void 0,u.createElement(m.gx,(0,r.Z)({autoComplete:"off",placeholder:_.formatMessage(x.groupDescriptionPlaceholder),maxLength:K},A))),(0,n.Z)("div",{className:"pb-6"},void 0,(0,n.Z)(y.Z,{tags:G,onChange:L,onAddItem:function(){L([].concat((0,o.Z)(G),[""]))},onRemoveItem:function(e){var t=(0,o.Z)(G);t.splice(e,1),L(t)}})),(0,n.Z)(m.iN,{},void 0,(0,n.Z)(m.zx,{theme:"primary",type:"submit",disabled:R,block:!0},void 0,(0,n.Z)(l.Z,{id:"edit_profile.save",defaultMessage:"Save"})))))}},1249:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=(a(28),a(5),a(1)),o=a(2121),i=a(2122),s=a(2142),u=a(206),d=a(36),c=a(103),l=a(52),g=a(2),m=a(3),p=a(34),f=a(646),v=(0,o.vU)({heading:{id:"column.group_blocked_members",defaultMessage:"Banned Members"},unblock:{id:"group.group_mod_unblock",defaultMessage:"Unban"},unblocked:{id:"group.group_mod_unblock.success",defaultMessage:"Unbanned @{name} from group"}}),Z=function(e){var t=e.accountId,a=e.groupId,n=(0,i.Z)(),o=(0,m.TL)(),s=(0,d.mA)(t).account;return s?(0,r.Z)(g.Ug,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,(0,r.Z)("div",{className:"w-full"},void 0,(0,r.Z)(c.Z,{account:s,withRelationship:!1})),(0,r.Z)(g.zx,{theme:"secondary",text:n.formatMessage(v.unblock),onClick:function(){return o((0,u.mN)(a,t)).then((function(){return p.Z.success(n.formatMessage(v.unblocked,{name:s.acct}))}))}})):null};t.default=function(e){var t=e.params,a=(0,i.Z)(),o=(0,m.TL)(),c=null==t?void 0:t.groupId,p=(0,d._v)(c).group,h=(0,m.CG)((function(e){var t;return null===(t=e.user_lists.group_blocks.get(c))||void 0===t?void 0:t.items}));if((0,n.useEffect)((function(){o((0,u.R5)(c))}),[c]),!p||!p.relationship||!h)return(0,r.Z)(g.sg,{label:a.formatMessage(v.heading)},void 0,(0,r.Z)(g.$j,{}));if(!p.relationship.role||!["owner","admin","moderator"].includes(p.relationship.role))return(0,r.Z)(f.Z,{});var b=(0,r.Z)(s.Z,{id:"empty_column.group_blocks",defaultMessage:"The group hasn't banned any users yet."});return(0,r.Z)(g.sg,{label:a.formatMessage(v.heading),backHref:"/group/".concat(p.slug,"/manage")},void 0,(0,r.Z)(l.Z,{scrollKey:"group_blocks",emptyMessage:b,emptyMessageCard:!1},void 0,h.map((function(e){return(0,r.Z)(Z,{accountId:e,groupId:c},e)}))))}},1251:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=a(2109),o=(a(27),a(0),a(4),a(5),a(89),a(8),a(2142)),i=a(2139),s=a(36),u=a(725),d=a(149),c=a(2),l=a(3),g=a(666);t.default=function(e){var t=e.params.groupId,a=(0,l.TL)(),m=(0,s._v)(t),p=m.group,f=m.isLoading,v=(0,s.WT)(t),Z=v.entities,h=v.fetchNextPage,b=v.isLoading,y=v.isFetching,M=v.hasNextPage,x=Z.reduce((function(e,t){return e.push.apply(e,(0,n.Z)(t.media_attachments.map((function(e){return e.set("status",t)})))),e}),[]),w=function(e){if("video"===e.type)a((0,i.h7)("VIDEO",{media:e,status:e.status,account:e.account}));else{var t=e.status.media_attachments,r=t.findIndex((function(t){return t.id===e.id}));a((0,i.h7)("MEDIA",{media:t,index:r,status:e.status}))}};return b||f?(0,r.Z)(c.sg,{transparent:!0,withHeader:!1},void 0,(0,r.Z)("div",{className:"pt-6"},void 0,(0,r.Z)(c.$j,{}))):p?(0,r.Z)(c.sg,{label:p.display_name,transparent:!0,withHeader:!1},void 0,(0,r.Z)("div",{role:"feed",className:"mt-4 grid grid-cols-2 gap-2 sm:grid-cols-3"},void 0,x.map((function(e){return(0,r.Z)(g.Z,{attachment:e,onOpenMedia:w},"".concat(e.status.id,"+").concat(e.id))})),!b&&0===x.length&&(0,r.Z)("div",{className:"empty-column-indicator col-span-2 sm:col-span-3"},void 0,(0,r.Z)(o.Z,{id:"account_gallery.none",defaultMessage:"No media to show."}))),M&&(0,r.Z)(u.Z,{className:"mt-4",disabled:y,onClick:h})):(0,r.Z)("div",{className:"pt-6"},void 0,(0,r.Z)(d.Z,{nested:!0}))}},1393:function(e,t,a){"use strict";a.r(t),a.d(t,{MAX_ADMIN_COUNT:function(){return N},default:function(){return k}});var r=a(1202),n=a(2109),o=(a(8),a(9),a(0),a(5),a(702)),i=a(1),s=a(36),u=a(970),d=a(52),c=a(3),l=a(160),g=a(669),m=(a(4),a(2121)),p=a(2122),f=a(206),v=a(2139),Z=a(103),h=a(778),b=a(2),y=a(2132),M=a(50),x=a(34),w=(0,m.vU)({adminLimitTitle:{id:"group.member.admin.limit.title",defaultMessage:"Admin limit reached"},adminLimitSummary:{id:"group.member.admin.limit.summary",defaultMessage:"You can assign up to {count, plural, one {admin} other {admins}} for the group at this time."},blockConfirm:{id:"confirmations.block_from_group.confirm",defaultMessage:"Ban"},blockFromGroupHeading:{id:"confirmations.block_from_group.heading",defaultMessage:"Ban From Group"},blockFromGroupMessage:{id:"confirmations.block_from_group.message",defaultMessage:"Are you sure you want to ban @{name} from the group?"},blocked:{id:"group.group_mod_block.success",defaultMessage:"@{name} is banned"},demotedToUser:{id:"group.demote.user.success",defaultMessage:"@{name} is now a member"},groupModBlock:{id:"group.group_mod_block",defaultMessage:"Ban from group"},groupModDemote:{id:"group.group_mod_demote",defaultMessage:"Remove {role} role"},groupModKick:{id:"group.group_mod_kick",defaultMessage:"Kick @{name} from group"},groupModPromoteMod:{id:"group.group_mod_promote_mod",defaultMessage:"Assign {role} role"},kickConfirm:{id:"confirmations.kick_from_group.confirm",defaultMessage:"Kick"},kickFromGroupMessage:{id:"confirmations.kick_from_group.message",defaultMessage:"Are you sure you want to kick @{name} from this group?"},kicked:{id:"group.group_mod_kick.success",defaultMessage:"Kicked @{name} from group"},promoteConfirm:{id:"group.promote.admin.confirmation.title",defaultMessage:"Assign Admin Role"},promoteConfirmMessage:{id:"group.promote.admin.confirmation.message",defaultMessage:"Are you sure you want to assign the admin role to @{name}?"},promotedToAdmin:{id:"group.promote.admin.success",defaultMessage:"@{name} is now an admin"}}),_=function(e){var t,n,u=e.canPromoteToAdmin,d=e.member,m=e.group,_=(0,c.TL)(),k=(0,c.hz)(),C=(0,p.Z)(),I=(0,s.OH)(m,d.account),O=(0,s.hb)(m,d),S=(0,s.Hf)(m,d),T=(0,s.mA)(d.account.id),P=T.account,R=T.isLoading,E=(null===(t=m.relationship)||void 0===t?void 0:t.role)===l.y.OWNER,U=(null===(n=m.relationship)||void 0===n?void 0:n.role)===l.y.ADMIN,j=d.role===l.y.OWNER,G=d.role===l.y.ADMIN,L=d.role===l.y.USER,z=function(){_((0,v.h7)("CONFIRM",{message:C.formatMessage(w.kickFromGroupMessage,{name:null==P?void 0:P.username}),confirm:C.formatMessage(w.kickConfirm),onConfirm:function(){return _((0,f.od)(m.id,null==P?void 0:P.id)).then((function(){return x.Z.success(C.formatMessage(w.kicked,{name:null==P?void 0:P.acct}))}))}}))},F=function(){_((0,v.h7)("CONFIRM",{heading:C.formatMessage(w.blockFromGroupHeading),message:C.formatMessage(w.blockFromGroupMessage,{name:null==P?void 0:P.username}),confirm:C.formatMessage(w.blockConfirm),onConfirm:function(){I({account_ids:[d.account.id]},{onSuccess:function(){_((0,y._L)([d.id],M.j.GROUP_MEMBERSHIPS)),x.Z.success(C.formatMessage(w.blocked,{name:null==P?void 0:P.acct}))}})}}))},q=function(){u?_((0,v.h7)("CONFIRM",{heading:C.formatMessage(w.promoteConfirm),message:C.formatMessage(w.promoteConfirmMessage,{name:null==P?void 0:P.username}),confirm:C.formatMessage(w.promoteConfirm),confirmationTheme:"primary",onConfirm:function(){O({role:l.y.ADMIN,account_ids:[null==P?void 0:P.id]},{onSuccess:function(){x.Z.success(C.formatMessage(w.promotedToAdmin,{name:null==P?void 0:P.acct}))}})}})):x.Z.error(C.formatMessage(w.adminLimitTitle),{summary:C.formatMessage(w.adminLimitSummary,{count:N})})},A=function(){S({role:l.y.USER,account_ids:[null==P?void 0:P.id]},{onSuccess:function(){x.Z.success(C.formatMessage(w.demotedToUser,{name:null==P?void 0:P.acct}))}})},D=(0,i.useMemo)((function(){var e,t=[];return m&&P&&null!==(e=m.relationship)&&void 0!==e&&e.role?(E&&(L?t.push({text:C.formatMessage(w.groupModPromoteMod,{role:l.y.ADMIN}),icon:a(645),action:q}):G&&t.push({text:C.formatMessage(w.groupModDemote,{role:l.y.ADMIN,name:P.username}),icon:a(645),action:A,destructive:!0})),(E||U)&&(G||L)&&d.role!==m.relationship.role&&(k.groupsKick&&t.push({text:C.formatMessage(w.groupModKick,{name:P.username}),icon:a(897),action:z}),t.push({text:C.formatMessage(w.groupModBlock,{name:P.username}),icon:a(107),action:F,destructive:!0})),t):t}),[m,null==P?void 0:P.id]);return R?(0,r.Z)(g.Z,{}):(0,r.Z)(b.Ug,{alignItems:"center",justifyContent:"between","data-testid":"group-member-list-item"},void 0,(0,r.Z)("div",{className:"w-full"},void 0,(0,r.Z)(Z.Z,{account:d.account,withRelationship:!1})),(0,r.Z)(b.Ug,{alignItems:"center",space:2},void 0,j||G?(0,r.Z)("span",{"data-testid":"role-badge",className:(0,o.default)("inline-flex items-center rounded px-2 py-1 text-xs font-medium capitalize",{"bg-primary-200 text-primary-500 dark:bg-primary-800 dark:text-primary-200":j,"bg-gray-200 text-gray-900 dark:bg-gray-800 dark:text-gray-100":G})},void 0,d.role):null,(0,r.Z)(h.Z,{items:D})))},N=5,k=function(e){var t=e.params.groupId,a=(0,c.hz)(),m=(0,s._v)(t),p=m.group,f=m.isFetching,v=(0,s.T0)(t,l.y.OWNER),Z=v.groupMembers,h=v.isFetching,b=(0,s.T0)(t,l.y.ADMIN),y=b.groupMembers,M=b.isFetching,x=(0,s.T0)(t,l.y.USER),w=x.groupMembers,k=x.isFetching,C=x.fetchNextPage,I=x.hasNextPage,O=(0,s.TH)(t),S=O.isFetching,T=O.count,P=f||h||M||k||S,R=(0,i.useMemo)((function(){return[].concat((0,n.Z)(Z),(0,n.Z)(y),(0,n.Z)(w))}),[Z,y,w]),E=!a.groupsAdminMax||R.filter((function(e){return e.role===l.y.ADMIN})).length<N;return i.createElement(i.Fragment,null,(0,r.Z)(d.Z,{scrollKey:"group-members",hasMore:I,onLoadMore:C,isLoading:!p||P,showLoading:!p||S||P&&0===R.length,placeholderComponent:g.Z,placeholderCount:3,className:"divide-y divide-solid divide-gray-200 dark:divide-gray-800",itemClassName:"py-3 last:pb-0",prepend:T>0&&(0,r.Z)("div",{className:(0,o.default)("py-3",{"border-b border-gray-200 dark:border-gray-800":R.length})},void 0,(0,r.Z)(u.z,{to:"/group/".concat(null==p?void 0:p.slug,"/manage/requests"),count:T}))},void 0,R.map((function(e){return(0,r.Z)(_,{group:p,member:e,canPromoteToAdmin:E},e.account.id)}))))}},1250:function(e,t,a){"use strict";a.r(t);var r=a(1196),n=a(1202),o=(a(40),a(28),a(5),a(0),a(25),a(1)),i=a(2121),s=a(2122),u=a(2142),d=a(36),c=a(103),l=a(726),g=a(52),m=a(2),p=a(160),f=a(34),v=a(646),Z=(0,i.vU)({heading:{id:"column.group_pending_requests",defaultMessage:"Pending requests"},authorizeFail:{id:"group.group_mod_authorize.fail",defaultMessage:"Failed to approve @{name}"},rejectFail:{id:"group.group_mod_reject.fail",defaultMessage:"Failed to reject @{name}"}}),h=function(e){var t=e.account,a=e.onAuthorize,r=e.onReject;return t?(0,n.Z)(m.Ug,{space:1,alignItems:"center",justifyContent:"between",className:"p-2.5"},void 0,(0,n.Z)("div",{className:"w-full"},void 0,(0,n.Z)(c.Z,{account:t,withRelationship:!1})),(0,n.Z)(l.N,{onAuthorize:function(){return a(t)},onReject:function(){return r(t)},countdown:3e3})):null};t.default=function(e){var t=e.params,a=null==t?void 0:t.groupId,i=(0,s.Z)(),c=(0,d._v)(a).group,l=(0,d.TH)(a),b=l.accounts,y=l.authorize,M=l.reject,x=l.refetch,w=l.isLoading,_=(0,d.T0)(a,p.y.USER).invalidate;if((0,o.useEffect)((function(){return function(){_()}}),[]),!c||!c.relationship||w)return(0,n.Z)(m.sg,{label:i.formatMessage(Z.heading)},void 0,(0,n.Z)(m.$j,{}));if(!c.relationship.role||!["owner","admin","moderator"].includes(c.relationship.role))return(0,n.Z)(v.Z,{});function N(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",y(t.id).then((function(){return Promise.resolve()})).catch((function(e){var a;x();var r,n=i.formatMessage(Z.authorizeFail,{name:t.username});return 409===(null===(a=e.response)||void 0===a?void 0:a.status)&&(n=(null===(r=e.response)||void 0===r?void 0:r.data).error),f.Z.error(n),Promise.reject()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){return I.apply(this,arguments)}function I(){return(I=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(t.id).then((function(){return Promise.resolve()})).catch((function(e){var a;x();var r,n=i.formatMessage(Z.rejectFail,{name:t.username});return 409===(null===(a=e.response)||void 0===a?void 0:a.status)&&(n=(null===(r=e.response)||void 0===r?void 0:r.data).error),f.Z.error(n),Promise.reject()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,n.Z)(m.sg,{label:i.formatMessage(Z.heading)},void 0,(0,n.Z)(g.Z,{scrollKey:"group_membership_requests",emptyMessage:(0,n.Z)(u.Z,{id:"empty_column.group_membership_requests",defaultMessage:"There are no pending membership requests for this group."})},void 0,b.map((function(e){return(0,n.Z)(h,{account:e,onAuthorize:N,onReject:C},e.id)}))))}},1245:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=(a(8),a(1)),o=a(2142),i=a(83),s=a(36),u=a(2),d=a(3),c=a(217);t.default=function(e){var t=(0,d.TL)(),l=e.params.groupId,g=e.params.tagId,m=(0,s._v)(l).group,p=(0,s.JR)(g),f=p.tag,v=p.isLoading;return(0,n.useEffect)((function(){null!=f&&f.name&&t((0,i.fz)(l,null==f?void 0:f.name))}),[l,f]),!v&&f&&m?(0,r.Z)(u.sg,{label:"#".concat(f.name)},void 0,(0,r.Z)(c.Z,{scrollKey:"group_timeline",timelineId:"group:tags:".concat(l,":").concat(f.name),onLoadMore:function(e){t((0,i.fz)(l,null==f?void 0:f.name,{maxId:e}))},divideType:"border",showGroup:!1,emptyMessageCard:!1,emptyMessage:(0,r.Z)(u.Kq,{space:4,className:"py-6",justifyContent:"center",alignItems:"center"},void 0,(0,r.Z)("div",{className:"rounded-full bg-gray-200 p-4 dark:bg-gray-800"},void 0,(0,r.Z)(u.JO,{src:a(1434),className:"h-6 w-6 text-gray-600"})),(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(o.Z,{id:"empty_column.group",defaultMessage:"There are no posts in this group yet."})))})):null}},1394:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var r=a(1202),n=(a(9),a(0),a(5),a(2142)),o=a(36),i=a(52),s=a(2),u=a(669),d=(a(11),a(12),a(16),a(4),a(7),a(18),a(19),a(10),a(1188)),c=(a(8),a(2121)),l=a(2122),g=a(2141),m=a(2132),p=a(50),f=a(3),v=a(160),Z=a(34),h=a(110);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){(0,d.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M=(0,c.vU)({hideTag:{id:"group.tags.hide",defaultMessage:"Hide topic"},showTag:{id:"group.tags.show",defaultMessage:"Show topic"},total:{id:"group.tags.total",defaultMessage:"Total Posts"},pinTag:{id:"group.tags.pin",defaultMessage:"Pin topic"},unpinTag:{id:"group.tags.unpin",defaultMessage:"Unpin topic"},pinSuccess:{id:"group.tags.pin.success",defaultMessage:"Pinned!"},unpinSuccess:{id:"group.tags.unpin.success",defaultMessage:"Unpinned!"},visibleSuccess:{id:"group.tags.visible.success",defaultMessage:"Topic marked as visible"},hiddenSuccess:{id:"group.tags.hidden.success",defaultMessage:"Topic marked as hidden"}}),x=function(e){var t,n=e.group,i=e.tag,u=e.isPinnable,d=(0,f.TL)(),c=(0,l.Z)(),b=(0,o.NV)(n.id,i.id).updateGroupTag,x=(null===(t=n.relationship)||void 0===t?void 0:t.role)===v.y.OWNER,w=function(){b({group_tag_type:i.pinned?"normal":"pinned"},{onSuccess:function(){var e=y(y({},i),{},{pinned:!i.pinned});d((0,m.dT)([e],p.j.GROUP_TAGS)),Z.Z.success(e.pinned?c.formatMessage(M.pinSuccess):c.formatMessage(M.unpinSuccess))}})};return(0,r.Z)(s.Ug,{alignItems:"center",justifyContent:"between","data-testid":"group-tag-list-item"},void 0,(0,r.Z)(g.rU,{to:"/group/".concat(n.slug,"/tag/").concat(i.id),className:"group grow"},void 0,(0,r.Z)(s.Kq,{},void 0,(0,r.Z)(s.xv,{weight:"bold",theme:i.visible||!x?"default":"subtle",className:"group-hover:underline","data-testid":"group-tag-name"},void 0,"#",i.name),(0,r.Z)(s.xv,{size:"sm",theme:i.visible||!x?"muted":"subtle"},void 0,c.formatMessage(M.total),":"," ",(0,r.Z)(s.xv,{size:"sm",theme:"inherit",weight:"semibold",tag:"span"},void 0,(0,h.w8)(i.uses))))),(0,r.Z)(s.Ug,{alignItems:"center",space:2},void 0,i.visible?!x&&i.pinned?(0,r.Z)(s.JO,{src:a(730),className:"h-5 w-5 text-gray-600","data-testid":"pin-icon"}):x?u?(0,r.Z)(s.u,{text:i.pinned?c.formatMessage(M.unpinTag):c.formatMessage(M.pinTag)},void 0,(0,r.Z)(s.hU,{onClick:w,theme:"transparent",src:i.pinned?a(730):a(459),iconClassName:"h-5 w-5 text-primary-500 dark:text-accent-blue","data-testid":"pin-icon"})):!u&&i.pinned?(0,r.Z)(s.u,{text:c.formatMessage(M.unpinTag)},void 0,(0,r.Z)(s.hU,{onClick:w,theme:"transparent",src:a(730),iconClassName:"h-5 w-5 text-primary-500 dark:text-accent-blue"})):void 0:null:null,x?(0,r.Z)(s.u,{text:i.visible?c.formatMessage(M.hideTag):c.formatMessage(M.showTag)},void 0,(0,r.Z)(s.hU,{onClick:function(){var e=i.visible;b({group_tag_type:e?"hidden":"normal"},{onSuccess:function(){var t=y(y({},i),{},{visible:!i.visible,pinned:!e&&i.pinned});d((0,m.dT)([t],p.j.GROUP_TAGS)),Z.Z.success(t.visible?c.formatMessage(M.visibleSuccess):c.formatMessage(M.hiddenSuccess))}})},theme:"transparent",src:i.visible?a(780):a(424),iconClassName:"h-5 w-5 text-primary-500 dark:text-accent-blue"})):null))},w=function(e){var t=e.params.groupId,d=(0,o._v)(t),c=d.group,l=d.isFetching,g=(0,o.ML)(t),m=g.tags,p=g.isFetching,f=g.hasNextPage,v=g.fetchNextPage,Z=l||p,h=m.filter((function(e){return e.pinned})).length<3;return(0,r.Z)(i.Z,{scrollKey:"group-tags",hasMore:f,onLoadMore:v,isLoading:Z||!c,showLoading:!c||Z&&0===m.length,placeholderComponent:u.Z,placeholderCount:3,className:"divide-y divide-solid divide-gray-300 dark:divide-gray-800",itemClassName:"py-3 last:pb-0",emptyMessage:(0,r.Z)(s.Kq,{space:4,className:"pt-6",justifyContent:"center",alignItems:"center"},void 0,(0,r.Z)("div",{className:"rounded-full bg-gray-200 p-4 dark:bg-gray-800"},void 0,(0,r.Z)(s.JO,{src:a(1520),className:"h-6 w-6 text-gray-600"})),(0,r.Z)(s.xv,{theme:"muted"},void 0,(0,r.Z)(n.Z,{id:"group.tags.empty",defaultMessage:"There are no topics in this group yet."}))),emptyMessageCard:!1},void 0,m.map((function(e){return(0,r.Z)(x,{group:c,isPinnable:h,tag:e},e.id)})))}},1246:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=a(702),o=a(1),i=a(2122),s=a(2142),u=a(2141),d=a(63),c=a(172),l=a(83),g=a(36),m=a(2),p=a(659),f=a(3),v=a(59),Z=a(217),h=(0,v.$r)();t.default=function(e){var t,v=(0,i.Z)(),b=(0,f.Tr)().account,y=(0,f.TL)(),M=(0,o.useRef)(null),x=e.params.groupId,w=(0,g._v)(x).group,_="group:".concat(x),N=!!b&&(null==w||null===(t=w.relationship)||void 0===t?void 0:t.member),k=(0,f.CG)((function(e){var t;return!(null===(t=e.compose.get(_))||void 0===t||!t.group_timeline_visible)})),C=(0,f.CG)((function(e){return h(e,{type:"group:".concat(null==w?void 0:w.id,":pinned")})})),I=(0,f.XU)(M,(function(e){y((0,d.G)(_,e,v))})),O=I.isDragging,S=I.isDraggedOver;return(0,o.useEffect)((function(){y((0,l.F0)(x)),y((0,l.f6)(x)),y((0,d.mx)(_,x));var e=y((0,c.iZ)(x));return function(){e()}}),[x]),w?(0,r.Z)(m.Kq,{space:2},void 0,N&&(0,r.Z)("div",{className:"border-b border-solid border-gray-200 py-6 dark:border-gray-800"},void 0,o.createElement(m.Ug,{ref:M,alignItems:"start",space:4,className:(0,n.default)("relative rounded-xl transition",{"border-2 border-primary-600 border-dashed z-[99] p-4":O,"ring-2 ring-offset-2 ring-primary-600":S})},(0,r.Z)(u.rU,{to:"/@".concat(b.acct)},void 0,(0,r.Z)(m.qE,{src:b.avatar,size:46})),(0,r.Z)(p.Z,{id:_,shouldCondense:!0,autoFocus:!1,group:x,extra:!w.locked&&(0,r.Z)(m.Ug,{alignItems:"center",space:4},void 0,(0,r.Z)("label",{className:"ml-auto cursor-pointer",htmlFor:"group-timeline-visible"},void 0,(0,r.Z)(m.xv,{theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"compose_group.share_to_followers",defaultMessage:"Share with my followers"}))),(0,r.Z)(m.ZD,{id:"group-timeline-visible",checked:k,onChange:function(){y((0,d.Gr)(_,!k))},size:"sm"}))}))),(0,r.Z)(Z.Z,{scrollKey:"group_timeline",timelineId:_,onLoadMore:function(e){y((0,l.F0)(x,{maxId:e}))},emptyMessage:(0,r.Z)(m.Kq,{space:4,className:"py-6",justifyContent:"center",alignItems:"center"},void 0,(0,r.Z)("div",{className:"rounded-full bg-gray-200 p-4 dark:bg-gray-800"},void 0,(0,r.Z)(m.JO,{src:a(1434),className:"h-6 w-6 text-gray-600"})),(0,r.Z)(m.xv,{theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"empty_column.group",defaultMessage:"There are no posts in this group yet."}))),emptyMessageCard:!1,divideType:"border",showGroup:!1,featuredStatusIds:C})):null}},1247:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=(a(28),a(4),a(1)),o=a(2121),i=a(2122),s=a(2112),u=a(2139),d=a(36),c=a(100),l=a(2),g=a(3),m=a(160),p=a(34),f=a(85),v=a(646),Z=(0,o.vU)({heading:{id:"column.manage_group",defaultMessage:"Manage Group"},editGroup:{id:"manage_group.edit_group",defaultMessage:"Edit Group"},pendingRequests:{id:"manage_group.pending_requests",defaultMessage:"Pending Requests"},blockedMembers:{id:"manage_group.blocked_members",defaultMessage:"Banned Members"},deleteGroup:{id:"manage_group.delete_group",defaultMessage:"Delete Group"},deleteConfirm:{id:"confirmations.delete_group.confirm",defaultMessage:"Delete"},deleteHeading:{id:"confirmations.delete_group.heading",defaultMessage:"Delete Group"},deleteMessage:{id:"confirmations.delete_group.message",defaultMessage:"Are you sure you want to delete this group? This is a permanent action that cannot be undone."},members:{id:"group.tabs.members",defaultMessage:"Members"},other:{id:"settings.other",defaultMessage:"Other Options"},deleteSuccess:{id:"group.delete.success",defaultMessage:"Group successfully deleted"}});t.default=function(e){var t,o=e.params.groupId,h=(0,g.nc)(),b=(0,g.TL)(),y=(0,g.iP)(),M=(0,s.k6)(),x=(0,i.Z)(),w=(0,d._v)(o).group,_=(0,d.LF)(),N=(null==w||null===(t=w.relationship)||void 0===t?void 0:t.role)===m.y.OWNER;return w&&w.relationship?w.relationship.role&&["owner","admin","moderator"].includes(w.relationship.role)?(0,r.Z)(l.sg,{label:x.formatMessage(Z.heading),backHref:"/group/".concat(w.slug)},void 0,(0,r.Z)(l.eW,{className:"space-y-4"},void 0,N&&n.createElement(n.Fragment,null,(0,r.Z)(l.Ol,{},void 0,(0,r.Z)(l.ll,{title:x.formatMessage(Z.editGroup)})),(0,r.Z)(c.Z,{},void 0,(0,r.Z)(c.H,{label:x.formatMessage(Z.editGroup),onClick:function(){return M.push("/group/".concat(w.slug,"/manage/edit"))}},void 0,(0,r.Z)("span",{dangerouslySetInnerHTML:{__html:w.display_name_html}})))),(0,r.Z)(l.Ol,{},void 0,(0,r.Z)(l.ll,{title:x.formatMessage(Z.members)})),(0,r.Z)(c.Z,{},void 0,h.software!==f.nF&&(0,r.Z)(c.H,{label:x.formatMessage(Z.pendingRequests),onClick:function(){return M.push("/group/".concat(w.slug,"/manage/requests"))}}),(0,r.Z)(c.H,{label:x.formatMessage(Z.blockedMembers),onClick:function(){return M.push("/group/".concat(w.slug,"/manage/blocks"))}})),N&&n.createElement(n.Fragment,null,(0,r.Z)(l.Ol,{},void 0,(0,r.Z)(l.ll,{title:x.formatMessage(Z.other)})),(0,r.Z)(c.Z,{},void 0,(0,r.Z)(c.H,{label:(0,r.Z)(l.xv,{theme:"danger"},void 0,x.formatMessage(Z.deleteGroup)),onClick:function(){return b((0,u.h7)("CONFIRM",{icon:a(104),heading:x.formatMessage(Z.deleteHeading),message:x.formatMessage(Z.deleteMessage),confirm:x.formatMessage(Z.deleteConfirm),onConfirm:function(){_.mutate(w.id,{onSuccess:function(){p.Z.success(x.formatMessage(Z.deleteSuccess)),M.push(y)}})}}))}}))))):(0,r.Z)(v.Z,{}):(0,r.Z)(l.sg,{label:x.formatMessage(Z.heading)},void 0,(0,r.Z)(l.$j,{}))}},575:function(e,t,a){"use strict";var r=a(1202),n=a(1),o=a(2141),i=a(428),s=a(2),u=a(718),d=a(963),c=a(631),l=a(632),g=(0,n.forwardRef)((function(e,t){var a=e.group,g=e.width,m=void 0===g?"auto":g;return(0,r.Z)("div",{className:"relative flex shrink-0 flex-col space-y-2 px-1",style:{width:m},"data-testid":"group-grid-item"},a.id,(0,r.Z)(o.rU,{to:"/group/".concat(a.slug)},void 0,n.createElement(s.Kq,{className:"aspect-h-7 aspect-w-10 h-full w-full overflow-hidden rounded-lg",ref:t,style:{minHeight:180}},(0,r.Z)(d.Z,{group:a,className:"absolute inset-0 object-cover"}),(0,r.Z)("div",{className:"absolute inset-x-0 bottom-0 flex justify-center rounded-b-lg bg-gradient-to-t from-gray-900 to-transparent pb-8 pt-12 transition-opacity duration-500"}),(0,r.Z)(s.Kq,{justifyContent:"end",className:"p-4 text-white",space:3},void 0,(0,r.Z)(i.Z,{group:a,size:44}),(0,r.Z)(s.Kq,{space:1},void 0,(0,r.Z)(s.xv,{weight:"bold",dangerouslySetInnerHTML:{__html:a.display_name_html},theme:"inherit",truncate:!0}),(0,r.Z)(s.Ug,{alignItems:"center",space:1},void 0,(0,r.Z)(l.Z,{group:a}),(0,r.Z)("span",{},void 0,"•"),(0,r.Z)(c.Z,{group:a})))))),(0,r.Z)(u.Z,{group:a}))}));t.Z=g},576:function(e,t,a){"use strict";var r=a(1202),n=a(1),o=a(2142),i=a(2141),s=a(428),u=a(2),d=a(718),c=a(110);t.Z=function(e){var t=e.group,l=e.withJoinAction,g=void 0===l||l;return(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between","data-testid":"group-list-item"},void 0,(0,r.Z)(i.rU,{to:"/group/".concat(t.slug),className:"overflow-hidden"},t.id,(0,r.Z)(u.Ug,{alignItems:"center",space:2},void 0,(0,r.Z)(s.Z,{group:t,size:44}),(0,r.Z)(u.Kq,{className:"overflow-hidden"},void 0,(0,r.Z)(u.xv,{weight:"bold",dangerouslySetInnerHTML:{__html:t.display_name_html},truncate:!0}),(0,r.Z)(u.Ug,{className:"text-gray-700 dark:text-gray-600",space:1,alignItems:"center"},void 0,(0,r.Z)(u.JO,{className:"h-4.5 w-4.5",src:t.locked?a(207):a(569)}),(0,r.Z)(u.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,t.locked?(0,r.Z)(o.Z,{id:"group.privacy.locked",defaultMessage:"Private"}):(0,r.Z)(o.Z,{id:"group.privacy.public",defaultMessage:"Public"})),void 0!==t.members_count&&n.createElement(n.Fragment,null,(0,r.Z)("span",{},void 0,"•"),(0,r.Z)(u.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,(0,c.w8)(t.members_count)," ",(0,r.Z)(o.Z,{id:"groups.discover.search.results.member_count",defaultMessage:"{members, plural, one {member} other {members}}",values:{members:t.members_count}}))))))),g&&(0,r.Z)(d.Z,{group:t}))}},854:function(e,t,a){"use strict";a.d(t,{Z:function(){return s},p:function(){return r}});var r,n=a(1202),o=a(702),i=a(2);!function(e){e.LIST="LIST",e.GRID="GRID"}(r||(r={}));var s=function(e){var t=e.layout,s=e.onSelect;return(0,n.Z)(i.Ug,{alignItems:"center",space:1},void 0,(0,n.Z)("button",{"data-testid":"layout-list-action",onClick:function(){return s(r.LIST)}},void 0,(0,n.Z)(i.JO,{src:a(1432),className:(0,o.default)("h-5 w-5 text-gray-600",{"text-primary-600":t===r.LIST})})),(0,n.Z)("button",{"data-testid":"layout-grid-action",onClick:function(){return s(r.GRID)}},void 0,(0,n.Z)(i.JO,{src:a(1433),className:(0,o.default)("h-5 w-5 text-gray-600",{"text-primary-600":t===r.GRID})})))}},993:function(e,t,a){"use strict";var r=a(1202),n=a(2142),o=a(2141),i=a(2);t.Z=function(e){var t=e.tag;return(0,r.Z)(o.rU,{to:"/groups/discover/tags/".concat(t.id),className:"group","data-testid":"tag-list-item"},void 0,(0,r.Z)(i.Kq,{},void 0,(0,r.Z)(i.xv,{weight:"bold",className:"group-hover:text-primary-600 group-hover:underline dark:group-hover:text-accent-blue"},void 0,"#",t.name),(0,r.Z)(i.xv,{size:"sm",theme:"muted",weight:"medium"},void 0,(0,r.Z)(n.Z,{id:"groups.discovery.tags.no_of_groups",defaultMessage:"Number of groups"}),":"," ",t.groups)))}},2177:function(e,t,a){"use strict";a.d(t,{l:function(){return r}});var r,n=a(1202),o=(a(4),a(1)),i=a(2112),s=a(2);!function(e){e.MY_GROUPS="MY_GROUPS",e.FIND_GROUPS="FIND_GROUPS"}(r||(r={})),t.Z=function(e){var t=e.activeTab,a=(0,i.k6)(),u=(0,o.useMemo)((function(){return[{text:"My Groups",action:function(){return a.push("/groups")},name:r.MY_GROUPS},{text:"Find Groups",action:function(){return a.push("/groups/discover")},name:r.FIND_GROUPS}]}),[]);return(0,n.Z)(s.mQ,{items:u,activeItem:t})}},1392:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return G}});var r=a(1202),n=a(2111),o=a(1),i=a(2121),s=a(2122),u=a(2),d=(a(5),a(112),a(2142)),c=a(36),l=a(465),g=a(2148),m=function(){var e=(0,g.lv)(12,20);return(0,r.Z)(u.Kq,{space:2,className:"animate-pulse"},void 0,(0,r.Z)(u.Kq,{className:"aspect-h-7 aspect-w-10 h-full w-full overflow-hidden rounded-lg"},void 0,(0,r.Z)("div",{className:"absolute inset-0 rounded-t-lg bg-gray-300 object-cover dark:bg-gray-800"}),(0,r.Z)(u.Kq,{justifyContent:"end",className:"z-10 p-4 text-gray-900 dark:text-gray-100",space:3},void 0,(0,r.Z)("div",{className:"h-11 w-11 rounded-full bg-gray-500 dark:bg-gray-700 dark:ring-primary-900"}),(0,r.Z)(u.Kq,{space:1,className:"text-gray-500 dark:text-gray-700"},void 0,(0,r.Z)(u.xv,{theme:"inherit",weight:"bold",truncate:!0},void 0,(0,g._4)(e)),(0,r.Z)(u.Ug,{space:3,wrap:!0},void 0,(0,r.Z)(u.xv,{tag:"span",theme:"inherit"},void 0,(0,g._4)(6)),(0,r.Z)(u.xv,{tag:"span",theme:"inherit"},void 0,(0,g._4)(6)))))),(0,r.Z)("div",{className:"h-10 w-full rounded-full bg-gray-300 dark:bg-gray-800"}))},p=a(575),f=function(){var e=(0,c.r2)(),t=e.groups,a=e.isFetching,i=e.isFetched,s=e.isError,g=i&&0===t.length||s,f=(0,o.useState)(null),v=(0,n.Z)(f,2),Z=v[0],h=v[1];return(0,r.Z)(u.Kq,{space:4,"data-testid":"popular-groups"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{size:"xl",weight:"bold"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.popular.title",defaultMessage:"Popular Groups"})),(0,r.Z)(l.Z,{to:"/groups/popular"},void 0,(0,r.Z)(u.xv,{tag:"span",weight:"medium",size:"sm",theme:"inherit"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.popular.show_more",defaultMessage:"Show More"})))),g?(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.popular.empty",defaultMessage:"Unable to fetch popular groups at this time. Please check back later."})):(0,r.Z)(u.lr,{itemWidth:250,itemCount:t.length,controlsHeight:null==Z?void 0:Z.clientHeight,isDisabled:a},void 0,(function(e){var n=e.width;return o.createElement(o.Fragment,null,a?new Array(4).fill(0).map((function(e,t){return(0,r.Z)("div",{className:"relative flex shrink-0 flex-col space-y-2 px-1",style:{width:n||"auto"}},t,(0,r.Z)(m,{}))})):t.map((function(e){return o.createElement(p.Z,{key:e.id,group:e,width:n,ref:h})})))})))},v=(a(15),a(993)),Z=function(){var e=(0,c.Hz)(),t=e.tags,a=e.isFetched,n=e.isError,o=a&&0===t.length||n;return(0,r.Z)(u.Kq,{space:4,"data-testid":"popular-tags"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{size:"xl",weight:"bold"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.tags.title",defaultMessage:"Browse Topics"})),(0,r.Z)(l.Z,{to:"/groups/tags"},void 0,(0,r.Z)(u.xv,{tag:"span",weight:"medium",size:"sm",theme:"inherit"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.tags.show_more",defaultMessage:"Show More"})))),o?(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.tags.empty",defaultMessage:"Unable to fetch popular topics at this time. Please check back later."})):(0,r.Z)(u.Kq,{space:4},void 0,t.slice(0,10).map((function(e){return(0,r.Z)(v.Z,{tag:e},e.id)}))))},h=a(832),b=a(3),y=a(2109),M=(a(22),a(97),a(55),a(8),a(48),a(453)),x=function(e){var t=e.title,a=e.subtitle;return(0,r.Z)(u.Kq,{space:2,className:"px-4 py-2","data-testid":"no-results"},void 0,(0,r.Z)(u.xv,{weight:"bold",size:"lg"},void 0,t),(0,r.Z)(u.xv,{theme:"muted"},void 0,a))},w=a(2159),_=function(e){var t=e.onSelect,i=(0,b.Tr)().account,s=(0,o.useState)(M.wy.get(null==i?void 0:i.id)||[]),c=(0,n.Z)(s,2),l=c[0],g=c[1];return(0,r.Z)(u.Kq,{space:2,"data-testid":"recent-searches"},void 0,l.length>0?o.createElement(o.Fragment,null,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between",className:"bg-white dark:bg-gray-900"},void 0,(0,r.Z)(u.xv,{theme:"muted",weight:"semibold",size:"sm"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.search.recent_searches.title",defaultMessage:"Recent searches"})),(0,r.Z)("button",{onClick:function(){var e;e=null==i?void 0:i.id,M.wy.remove(e),g([])},"data-testid":"clear-recent-searches"},void 0,(0,r.Z)(u.xv,{theme:"primary",size:"sm",className:"hover:underline"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.search.recent_searches.clear_all",defaultMessage:"Clear all"})))),(0,r.Z)(w.OO,{useWindowScroll:!0,data:l,itemContent:function(e,n){return(0,r.Z)("div",{"data-testid":"recent-search"},n,(0,r.Z)("button",{onClick:function(){return t(n)},className:"group flex w-full flex-col rounded-lg p-2 hover:bg-gray-100 dark:hover:bg-gray-800","data-testid":"recent-search-result"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",space:2},void 0,(0,r.Z)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-gray-200 p-2 dark:bg-gray-800 dark:group-hover:bg-gray-700/20"},void 0,(0,r.Z)(u.JO,{src:a(190),className:"h-5 w-5 text-gray-600"})),(0,r.Z)(u.xv,{weight:"bold",size:"sm",align:"left"},void 0,n))))}})):(0,r.Z)(u.Kq,{space:2,"data-testid":"recent-searches-blankslate"},void 0,(0,r.Z)(u.xv,{weight:"bold",size:"lg"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.search.recent_searches.blankslate.title",defaultMessage:"No recent searches"})),(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.search.recent_searches.blankslate.subtitle",defaultMessage:"Search group names, topics or keywords"}))))},N=a(1203),k=a(2119),C=a(702),I=a(576),O=a(854),S=["context"],T=o.forwardRef((function(e,t){e.context;var a=(0,k.Z)(e,S);return o.createElement("div",(0,N.Z)({ref:t},a,{className:"flex flex-wrap"}))})),P=function(e){var t=e.groupSearchResult,a=(0,o.useState)(O.p.LIST),i=(0,n.Z)(a,2),s=i[0],c=i[1],l=t.groups,g=t.hasNextPage,m=t.isFetching,f=t.fetchNextPage,v=function(){g&&!m&&f()},Z=(0,o.useCallback)((function(e,t){return(0,r.Z)("div",{className:(0,C.default)({"pt-4":0!==t})},void 0,(0,r.Z)(I.Z,{group:e,withJoinAction:!0}))}),[]),h=(0,o.useCallback)((function(e){return(0,r.Z)(p.Z,{group:e})}),[]);return(0,r.Z)(u.Kq,{space:4,"data-testid":"results"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{weight:"semibold"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.search.results.groups",defaultMessage:"Groups"})),(0,r.Z)(O.Z,{layout:s,onSelect:function(e){return c(e)}})),s===O.p.LIST?(0,r.Z)(w.OO,{useWindowScroll:!0,data:l,itemContent:function(e,t){return Z(t,e)},endReached:v}):(0,r.Z)(w.Mr,{useWindowScroll:!0,data:l,itemContent:function(e,t){return h(t)},components:{Item:function(e){return o.createElement("div",(0,N.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:T},endReached:v}))},R=function(e){var t=e.onSelect,a=e.searchValue,n=(0,b.Tr)().account,i=b.Nr,s=i(a,300),l=i(a,1e3),g=(0,c.pu)(s),m=g.groups,p=g.isLoading,f=g.isFetched,v=g.isError,Z=f&&m.length>0,w=f&&0===m.length;return(0,o.useEffect)((function(){l&&l.length>=0&&function(e,t){var a=[];if(M.wy.get(e)&&(a=M.wy.get(e)),-1===a.indexOf(t))return a.unshift(t),a.length>10&&a.pop(),M.wy.set(e,a),a;var r=a.indexOf(t),n=(0,y.Z)(a);n.splice.apply(n,[0,0].concat((0,y.Z)(n.splice(r,1)))),localStorage.setItem("soapbox:recent-group-searches",JSON.stringify(n))}(null==n?void 0:n.id,l)}),[l]),p?(0,r.Z)(u.Kq,{space:4},void 0,(0,r.Z)(h.Z,{}),(0,r.Z)(h.Z,{}),(0,r.Z)(h.Z,{})):v?(0,r.Z)(x,{title:(0,r.Z)(d.Z,{id:"groups.discover.search.error.title",defaultMessage:"An error occurred"}),subtitle:(0,r.Z)(d.Z,{id:"groups.discover.search.error.subtitle",defaultMessage:"Please try again later."})}):w?(0,r.Z)(x,{title:(0,r.Z)(d.Z,{id:"groups.discover.search.no_results.title",defaultMessage:"No matches found"}),subtitle:(0,r.Z)(d.Z,{id:"groups.discover.search.no_results.subtitle",defaultMessage:"Try searching for another group."})}):Z?(0,r.Z)(P,{groupSearchResult:g}):(0,r.Z)(_,{onSelect:t})},E=function(){var e=(0,c.sp)(),t=e.groups,a=e.isFetching,i=e.isFetched,s=e.isError,g=i&&0===t.length||s,f=(0,o.useState)(null),v=(0,n.Z)(f,2),Z=v[0],h=v[1];return(0,r.Z)(u.Kq,{space:4,"data-testid":"suggested-groups"},void 0,(0,r.Z)(u.Ug,{alignItems:"center",justifyContent:"between"},void 0,(0,r.Z)(u.xv,{size:"xl",weight:"bold"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.suggested.title",defaultMessage:"Suggested For You"})),(0,r.Z)(l.Z,{to:"/groups/suggested"},void 0,(0,r.Z)(u.xv,{tag:"span",weight:"medium",size:"sm",theme:"inherit"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.suggested.show_more",defaultMessage:"Show More"})))),g?(0,r.Z)(u.xv,{theme:"muted"},void 0,(0,r.Z)(d.Z,{id:"groups.discover.suggested.empty",defaultMessage:"Unable to fetch suggested groups at this time. Please check back later."})):(0,r.Z)(u.lr,{itemWidth:250,itemCount:t.length,controlsHeight:null==Z?void 0:Z.clientHeight,isDisabled:a},void 0,(function(e){var n=e.width;return o.createElement(o.Fragment,null,a?new Array(20).fill(0).map((function(e,t){return(0,r.Z)("div",{className:"relative flex shrink-0 flex-col space-y-2 px-0.5",style:{width:n||"auto"}},t,(0,r.Z)(m,{}))})):t.map((function(e){return o.createElement(p.Z,{key:e.id,group:e,width:n,ref:h})})))})))},U=a(2177),j=(0,i.vU)({placeholder:{id:"groups.discover.search.placeholder",defaultMessage:"Search"}}),G=function(){var e=(0,s.Z)(),t=(0,o.useState)(!1),i=(0,n.Z)(t,2),d=i[0],c=i[1],l=(0,o.useState)(""),g=(0,n.Z)(l,2),m=g[0],p=g[1],v=m&&m.length>0,h=function(){return p("")};return(0,r.Z)(u.Kq,{space:4},void 0,(0,r.Z)(U.Z,{activeTab:U.l.FIND_GROUPS}),(0,r.Z)(u.Kq,{space:6},void 0,(0,r.Z)(u.Ug,{alignItems:"center"},void 0,d?(0,r.Z)(u.hU,{src:a(201),iconClassName:"mr-2 h-5 w-5 fill-current text-gray-600",onClick:function(){h(),c(!1)},"data-testid":"group-search-icon"}):null,(0,r.Z)(u.II,{"data-testid":"search",type:"text",placeholder:e.formatMessage(j.placeholder),value:m,onChange:function(e){return p(e.target.value)},onFocus:function(){return c(!0)},outerClassName:"mt-0 w-full",theme:"search",append:(0,r.Z)("button",{onClick:h},void 0,(0,r.Z)(u.JO,{src:a(v?82:190),className:"h-4 w-4 text-gray-700 dark:text-gray-600","aria-hidden":"true"}))})),d?(0,r.Z)(R,{searchValue:m,onSelect:function(e){return p(e)}}):o.createElement(o.Fragment,null,(0,r.Z)(f,{}),(0,r.Z)(E,{}),(0,r.Z)(Z,{}))))}},1391:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var r=a(1202),n=a(2111),o=(a(5),a(1)),i=a(2121),s=a(2122),u=a(2142),d=a(2141),c=a(2139),l=a(36),g=a(775),m=a(52),p=a(2),f=a(3),v=a(2178),Z=a(2100),h=a(970),b=function(){var e=(0,f.hz)(),t=(0,l.K6)(),a=t.groups,n=t.isFetching;return!e.groupsPending||n||0===a.length?null:o.createElement(o.Fragment,null,(0,r.Z)(h.z,{to:"/groups/pending-requests",count:a.length,size:"lg"}),(0,r.Z)(p.iz,{}))},y=a(2177),M=(0,i.vU)({placeholder:{id:"groups.search.placeholder",defaultMessage:"Search My Groups"}}),x=function(){var e=f.Nr,t=(0,f.TL)(),i=(0,f.hz)(),h=(0,s.Z)(),x=(0,f.CG)((function(e){return(0,v.Fs)(e,v.RZ)})),w=(0,o.useState)(""),_=(0,n.Z)(w,2),N=_[0],k=_[1],C=e(N,300),I=(0,l.XY)(C),O=I.groups,S=I.isLoading,T=I.hasNextPage,P=I.fetchNextPage,R=function(){return t((0,c.h7)("CREATE_GROUP"))};return(0,r.Z)(p.Kq,{space:4},void 0,i.groupsDiscovery&&(0,r.Z)(y.Z,{activeTab:y.l.MY_GROUPS}),x&&(0,r.Z)(p.zx,{className:"xl:hidden",icon:a(570),onClick:R,theme:"secondary",block:!0},void 0,(0,r.Z)(u.Z,{id:"new_group_panel.action",defaultMessage:"Create Group"})),i.groupsSearch?(0,r.Z)(p.II,{onChange:function(e){return k(e.target.value)},placeholder:h.formatMessage(M.placeholder),theme:"search",value:N}):null,(0,r.Z)(b,{}),(0,r.Z)(m.Z,{scrollKey:"groups",emptyMessage:(0,r.Z)(p.Kq,{space:4,alignItems:"center",justifyContent:"center",className:"py-6"},void 0,(0,r.Z)(p.Kq,{space:2,className:"max-w-sm"},void 0,(0,r.Z)(p.xv,{size:"2xl",weight:"bold",tag:"h2",align:"center"},void 0,(0,r.Z)(u.Z,{id:"groups.empty.title",defaultMessage:"No Groups yet"})),(0,r.Z)(p.xv,{size:"sm",theme:"muted",align:"center"},void 0,(0,r.Z)(u.Z,{id:"groups.empty.subtitle",defaultMessage:"Start discovering groups to join or create your own."}))),x&&(0,r.Z)(p.zx,{className:"self-center",onClick:R,theme:"secondary"},void 0,(0,r.Z)(u.Z,{id:"new_group_panel.action",defaultMessage:"Create Group"}))),emptyMessageCard:!1,itemClassName:"pb-4 last:pb-0",isLoading:S,showLoading:S&&0===O.length,placeholderComponent:Z.Z,placeholderCount:3,onLoadMore:function(){T&&P()},hasMore:T},void 0,O.map((function(e){return(0,r.Z)(d.rU,{to:"/group/".concat(e.slug)},e.id,(0,r.Z)(g.Z,{group:e}))}))))}},1244:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=(a(5),a(2121)),o=a(2122),i=a(2142),s=a(2141),u=a(36),d=a(775),c=a(52),l=a(2),g=a(2100),m=(0,n.vU)({label:{id:"groups.pending.label",defaultMessage:"Pending Requests"}});t.default=function(){var e=(0,o.Z)(),t=(0,u.K6)(),a=t.groups,n=t.isLoading;return(0,r.Z)(l.sg,{label:e.formatMessage(m.label)},void 0,(0,r.Z)(c.Z,{emptyMessage:(0,r.Z)(l.Kq,{space:4,alignItems:"center",justifyContent:"center",className:"py-6","data-testid":"pending-requests-blankslate"},void 0,(0,r.Z)(l.Kq,{space:2,className:"max-w-sm"},void 0,(0,r.Z)(l.xv,{size:"2xl",weight:"bold",tag:"h2",align:"center"},void 0,(0,r.Z)(i.Z,{id:"groups.pending.empty.title",defaultMessage:"No pending requests"})),(0,r.Z)(l.xv,{size:"sm",theme:"muted",align:"center"},void 0,(0,r.Z)(i.Z,{id:"groups.pending.empty.subtitle",defaultMessage:"You have no pending requests at this time."})))),emptyMessageCard:!1,isLoading:n,itemClassName:"pb-4 last:pb-0",placeholderComponent:g.Z,placeholderCount:3,scrollKey:"pending-group-requests",showLoading:n&&0===a.length},void 0,a.map((function(e){return(0,r.Z)(s.rU,{to:"/group/".concat(e.slug)},e.id,(0,r.Z)(d.Z,{group:e}))}))))}},1240:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=a(2111),o=a(1203),i=a(2119),s=a(702),u=a(1),d=a(2121),c=a(2122),l=a(2159),g=a(36),m=a(2),p=a(575),f=a(576),v=a(854),Z=["context"],h=(0,d.vU)({label:{id:"groups.popular.label",defaultMessage:"Popular Groups"}}),b=u.forwardRef((function(e,t){e.context;var a=(0,i.Z)(e,Z);return u.createElement("div",(0,o.Z)({ref:t},a,{className:"flex flex-wrap"}))}));t.default=function(){var e=(0,c.Z)(),t=(0,u.useState)(v.p.LIST),a=(0,n.Z)(t,2),i=a[0],d=a[1],Z=(0,g.r2)(),y=Z.groups,M=Z.hasNextPage,x=Z.fetchNextPage,w=function(){M&&x()},_=(0,u.useCallback)((function(e,t){return(0,r.Z)("div",{className:(0,s.default)({"pt-4":0!==t})},void 0,(0,r.Z)(f.Z,{group:e,withJoinAction:!0}))}),[]),N=(0,u.useCallback)((function(e){return(0,r.Z)(p.Z,{group:e})}),[]);return(0,r.Z)(m.sg,{label:e.formatMessage(h.label),action:(0,r.Z)(v.Z,{layout:i,onSelect:function(e){return d(e)}})},void 0,i===v.p.LIST?(0,r.Z)(l.OO,{useWindowScroll:!0,data:y,itemContent:function(e,t){return _(t,e)},endReached:w}):(0,r.Z)(l.Mr,{useWindowScroll:!0,data:y,itemContent:function(e,t){return N(t)},components:{Item:function(e){return u.createElement("div",(0,o.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:b},endReached:w}))}},1241:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=a(2111),o=a(1203),i=a(2119),s=a(702),u=a(1),d=a(2121),c=a(2122),l=a(2159),g=a(36),m=a(2),p=a(575),f=a(576),v=a(854),Z=["context"],h=(0,d.vU)({label:{id:"groups.suggested.label",defaultMessage:"Suggested Groups"}}),b=u.forwardRef((function(e,t){e.context;var a=(0,i.Z)(e,Z);return u.createElement("div",(0,o.Z)({ref:t},a,{className:"flex flex-wrap"}))}));t.default=function(){var e=(0,c.Z)(),t=(0,u.useState)(v.p.LIST),a=(0,n.Z)(t,2),i=a[0],d=a[1],Z=(0,g.sp)(),y=Z.groups,M=Z.hasNextPage,x=Z.fetchNextPage,w=function(){M&&x()},_=(0,u.useCallback)((function(e,t){return(0,r.Z)("div",{className:(0,s.default)({"pt-4":0!==t})},void 0,(0,r.Z)(f.Z,{group:e,withJoinAction:!0}))}),[]),N=(0,u.useCallback)((function(e){return(0,r.Z)(p.Z,{group:e})}),[]);return(0,r.Z)(m.sg,{label:e.formatMessage(h.label),action:(0,r.Z)(v.Z,{layout:i,onSelect:function(e){return d(e)}})},void 0,i===v.p.LIST?(0,r.Z)(l.OO,{useWindowScroll:!0,data:y,itemContent:function(e,t){return _(t,e)},endReached:w}):(0,r.Z)(l.Mr,{useWindowScroll:!0,data:y,itemContent:function(e,t){return N(t)},components:{Item:function(e){return u.createElement("div",(0,o.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:b},endReached:w}))}},1242:function(e,t,a){"use strict";a.r(t);var r,n=a(1202),o=a(2111),i=a(1203),s=a(2119),u=a(702),d=a(1),c=a(2159),l=a(36),g=a(2),m=a(575),p=a(576),f=["context"];!function(e){e.LIST="LIST",e.GRID="GRID"}(r||(r={}));var v=d.forwardRef((function(e,t){e.context;var a=(0,s.Z)(e,f);return d.createElement("div",(0,i.Z)({ref:t},a,{className:"flex flex-wrap"}))}));t.default=function(e){var t=e.params.id,s=(0,d.useState)(r.LIST),f=(0,o.Z)(s,2),Z=f[0],h=f[1],b=(0,l.JR)(t),y=b.tag,M=b.isLoading,x=(0,l.We)(t),w=x.groups,_=x.hasNextPage,N=x.fetchNextPage,k=function(){_&&N()},C=(0,d.useCallback)((function(e,t){return(0,n.Z)("div",{className:(0,u.default)({"pt-4":0!==t})},void 0,(0,n.Z)(p.Z,{group:e,withJoinAction:!0}))}),[]),I=(0,d.useCallback)((function(e){return(0,n.Z)(m.Z,{group:e})}),[]);return M||!y?null:(0,n.Z)(g.sg,{label:"#".concat(y.name),action:(0,n.Z)(g.Ug,{alignItems:"center"},void 0,(0,n.Z)("button",{onClick:function(){return h(r.LIST)}},void 0,(0,n.Z)(g.JO,{src:a(1432),className:(0,u.default)("h-5 w-5 text-gray-600",{"text-primary-600":Z===r.LIST})})),(0,n.Z)("button",{onClick:function(){return h(r.GRID)}},void 0,(0,n.Z)(g.JO,{src:a(1433),className:(0,u.default)("h-5 w-5 text-gray-600",{"text-primary-600":Z===r.GRID})})))},void 0,Z===r.LIST?(0,n.Z)(c.OO,{useWindowScroll:!0,data:w,itemContent:function(e,t){return C(t,e)},endReached:k}):(0,n.Z)(c.Mr,{useWindowScroll:!0,data:w,itemContent:function(e,t){return I(t)},components:{Item:function(e){return d.createElement("div",(0,i.Z)({},e,{className:"w-1/2 flex-none pb-4 [&:nth-last-of-type(-n+2)]:pb-0"}))},List:v},endReached:k}))}},1243:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=a(702),o=a(2121),i=a(2122),s=a(2142),u=a(2159),d=a(36),c=a(2),l=a(993),g=(0,o.vU)({title:{id:"groups.tags.title",defaultMessage:"Browse Topics"}});t.default=function(){var e=(0,i.Z)(),t=(0,d.Hz)(),a=t.tags,o=t.isFetched,m=t.isError,p=t.hasNextPage,f=t.fetchNextPage,v=o&&0===a.length||m;return(0,r.Z)(c.sg,{label:e.formatMessage(g.title)},void 0,v?(0,r.Z)(c.xv,{theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"groups.discover.tags.empty",defaultMessage:"Unable to fetch popular topics at this time. Please check back later."})):(0,r.Z)(u.OO,{useWindowScroll:!0,data:a,itemContent:function(e,t){return(0,r.Z)("div",{className:(0,n.default)({"pt-4":0!==e})},void 0,(0,r.Z)(l.Z,{tag:t},t.id))},endReached:function(){p&&f()}}))}},2100:function(e,t,a){"use strict";var r=a(1202),n=a(2),o=a(2148);t.Z=function(){var e=(0,o.lv)(12,20);return(0,r.Z)("div",{className:"animate-pulse"},void 0,(0,r.Z)(n.Kq,{className:"relative h-[240px] rounded-lg border border-solid border-gray-300 bg-white dark:border-primary-800 dark:bg-primary-900"},void 0,(0,r.Z)("div",{className:"relative grow basis-1/2 rounded-t-lg bg-gray-300 dark:bg-gray-800"}),(0,r.Z)("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2"},void 0,(0,r.Z)("div",{className:"h-16 w-16 rounded-full bg-gray-500 ring-2 ring-white dark:bg-primary-800 dark:ring-primary-900"})),(0,r.Z)(n.Kq,{alignItems:"center",justifyContent:"end",grow:!0,className:"basis-1/2 py-4",space:.5},void 0,(0,r.Z)(n.xv,{size:"lg",theme:"subtle",weight:"bold"},void 0,(0,o._4)(e)),(0,r.Z)(n.Ug,{className:"text-gray-400 dark:text-gray-600",space:3,wrap:!0},void 0,(0,r.Z)("span",{},void 0,(0,o._4)(6)),(0,r.Z)("span",{},void 0,(0,o._4)(6))))))}},832:function(e,t,a){"use strict";var r=a(1202),n=a(2),o=a(2148);t.Z=function(e){var t=e.withJoinAction,a=void 0===t||t,i=(0,o.lv)(12,20);return(0,r.Z)(n.Ug,{alignItems:"center",justifyContent:"between",className:"animate-pulse"},void 0,(0,r.Z)(n.Ug,{alignItems:"center",space:2,className:"overflow-hidden"},void 0,(0,r.Z)("div",{className:"h-11 w-11 rounded-full bg-gray-500 dark:bg-gray-700 dark:ring-primary-900"}),(0,r.Z)(n.Kq,{className:"text-gray-500 dark:text-gray-700"},void 0,(0,r.Z)(n.xv,{theme:"inherit",weight:"bold"},void 0,(0,o._4)(i)),(0,r.Z)(n.Ug,{space:1,alignItems:"center"},void 0,(0,r.Z)(n.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,(0,o._4)(6)),(0,r.Z)("span",{},void 0,"•"),(0,r.Z)(n.xv,{theme:"inherit",tag:"span",size:"sm",weight:"medium"},void 0,(0,o._4)(6))))),a&&(0,r.Z)("div",{className:"h-10 w-36 rounded-full bg-gray-300 dark:bg-gray-800"}))}},1255:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=a(2111),o=(a(89),a(15),a(5),a(8),a(753)),i=a(1),s=a(2142),u=a(2139),d=a(83),c=a(2),l=a(3),g=a(59),m=a(666);t.default=function(e){var t,a,p=e.group,f=(0,l.TL)(),v=(0,i.useState)(!0),Z=(0,n.Z)(v,2),h=Z[0],b=Z[1],y=!(null==p||null===(t=p.relationship)||void 0===t||!t.member),M=null==p?void 0:p.locked,x=(0,l.CG)((function(e){return p?(0,g.yE)(e,null==p?void 0:p.id):(0,o.List)()})),w=function(e){if("video"===e.type)f((0,u.h7)("VIDEO",{media:e,status:e.status}));else{var t=e.getIn(["status","media_attachments"]),a=t.findIndex((function(t){return t.id===e.id}));f((0,u.h7)("MEDIA",{media:t,index:a,status:e.status,account:e.account}))}};return(0,i.useEffect)((function(){b(!0),!p||p.deleted_at||!y&&M||f((0,d.gY)(p.id)).then((function(){return b(!1)})).catch((function(){}))}),[null==p?void 0:p.id,y,M]),M&&!y||null!=p&&p.deleted_at?null:(0,r.Z)(c.$L,{title:(0,r.Z)(s.Z,{id:"media_panel.title",defaultMessage:"Media"})},void 0,p&&(0,r.Z)("div",{className:"w-full"},void 0,h?(0,r.Z)(c.$j,{}):(a=x.slice(0,9)).isEmpty()?(0,r.Z)(c.xv,{size:"sm",theme:"muted"},void 0,(0,r.Z)(s.Z,{id:"media_panel.empty_message",defaultMessage:"No media found."})):(0,r.Z)("div",{className:"grid grid-cols-3 gap-1"},void 0,a.map((function(e,t){return(0,r.Z)(m.Z,{attachment:e,onOpenMedia:w},"".concat(e.getIn(["status","id"]),"+").concat(e.id))})))))}},1395:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var r=a(1202),n=a(2111),o=a(2133),i=a(1),s=a(2121),u=a(2122),d=a(2142),c=a(2117),l=a(36),g=a(2),m=a(3),p=a(34),f=a(2151),v=(0,s.vU)({copied:{id:"copy.success",defaultMessage:"Copied to clipboard!"}}),Z=function(e){var t=e.number;return(0,r.Z)("div",{className:"flex h-7 w-7 shrink-0 items-center justify-center rounded-full border border-gray-200 dark:border-gray-800"},void 0,(0,r.Z)(g.xv,{theme:"primary",size:"sm",weight:"bold"},void 0,t))},h=function(e){var t=e.number,a=e.children;return(0,r.Z)(g.Ug,{alignItems:"top",space:3},void 0,(0,r.Z)(Z,{number:t}),(0,r.Z)("div",{className:"mt-0.5"},void 0,a))},b=function(e){var t=e.group,n=(0,u.Z)();return t?(0,r.Z)(g.Kq,{space:9},void 0,(0,r.Z)(g.Kq,{space:3},void 0,(0,r.Z)(g.Kq,{},void 0,(0,r.Z)("label",{className:"dark:sm:shadow-inset relative h-24 w-full cursor-pointer overflow-hidden rounded-lg bg-primary-100 text-primary-500 dark:bg-gray-800 dark:text-accent-blue sm:h-36 sm:shadow"},void 0,t.header&&(0,r.Z)("img",{className:"h-full w-full object-cover",src:t.header,alt:""})),(0,r.Z)("label",{className:"mx-auto -mt-10 cursor-pointer rounded-full bg-primary-500 ring-2 ring-white dark:ring-primary-900"},void 0,t.avatar&&(0,r.Z)(g.qE,{src:t.avatar,size:80}))),(0,r.Z)(g.Kq,{},void 0,(0,r.Z)(g.xv,{size:"2xl",weight:"bold",align:"center"},void 0,t.display_name),(0,r.Z)(g.xv,{size:"md",className:"mx-auto max-w-sm [&_a]:text-primary-600 [&_a]:hover:underline [&_a]:dark:text-accent-blue",dangerouslySetInnerHTML:{__html:t.note_emojified}}))),(0,r.Z)(g.iz,{}),(0,r.Z)(g.Kq,{space:4},void 0,(0,r.Z)(g.xv,{size:"3xl",weight:"bold",align:"center"},void 0,(0,r.Z)(d.Z,{id:"manage_group.confirmation.title",defaultMessage:"You’re all set!"})),(0,r.Z)(g.Kq,{space:5},void 0,(0,r.Z)(h,{number:1},void 0,(0,r.Z)(g.xv,{theme:"muted"},void 0,(0,r.Z)(d.Z,{id:"manage_group.confirmation.info_1",defaultMessage:"As the owner of this group, you can assign staff, delete posts and much more."}))),(0,r.Z)(h,{number:2},void 0,(0,r.Z)(g.xv,{theme:"muted"},void 0,(0,r.Z)(d.Z,{id:"manage_group.confirmation.info_2",defaultMessage:"Post the group's first post and get the conversation started."}))),(0,r.Z)(h,{number:3},void 0,(0,r.Z)(g.xv,{theme:"muted"},void 0,(0,r.Z)(d.Z,{id:"manage_group.confirmation.info_3",defaultMessage:"Share your new group with friends, family and followers to grow its membership."}))))),(0,r.Z)(g.Ug,{space:2,justifyContent:"center"},void 0,"share"in navigator&&(0,r.Z)(g.zx,{onClick:function(){navigator.share({text:null==t?void 0:t.display_name,url:null==t?void 0:t.uri}).catch((function(e){"AbortError"!==e.name&&console.error(e)}))},theme:"transparent",icon:a(794),className:"text-primary-600"},void 0,(0,r.Z)(d.Z,{id:"manage_group.confirmation.share",defaultMessage:"Share this group"})),(0,r.Z)(g.zx,{onClick:function(){(0,f.Z)(null==t?void 0:t.url,(function(){p.Z.success(n.formatMessage(v.copied))}))},theme:"transparent",icon:a(609),className:"text-primary-600"},void 0,(0,r.Z)(d.Z,{id:"manage_group.confirmation.copy",defaultMessage:"Copy link"})))):null},y=(a(11),a(12),a(16),a(4),a(7),a(18),a(19),a(10),a(2109)),M=a(1196),x=a(1188),w=(a(40),a(0),a(25),a(9),a(75),a(8),a(55),a(44),a(829)),_=a(830),N=a(1435),k=a(828),C=a(425);function I(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function O(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?I(Object(a),!0).forEach((function(t){(0,x.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):I(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S=(0,s.vU)({groupNamePlaceholder:{id:"manage_group.fields.name_placeholder",defaultMessage:"Group Name"},groupDescriptionPlaceholder:{id:"manage_group.fields.description_placeholder",defaultMessage:"Description"},hashtagPlaceholder:{id:"manage_group.fields.hashtag_placeholder",defaultMessage:"Add a topic"}}),T=function(e){var t,a=e.params,n=e.onChange,o=(0,u.Z)(),i=m.Nr,s=(0,m.fz)(),c=a.display_name,p=void 0===c?"":c,f=a.note,v=void 0===f?"":f,Z=a.tags,h=void 0===Z?[""]:Z,b=i(p,300),I=(0,l.BN)(b).data,T=I.isValid,P=I.message,R=(0,k.uL)(a.avatar),E=(0,k.uL)(a.header),U=null===(t=(0,m.CG)((function(e){return e.instance.configuration.getIn(["media_attachments","supported_mime_types"])})))||void 0===t?void 0:t.filter((function(e){return e.startsWith("image/")})).toArray().join(","),j=function(e){return function(t){n(O(O({},a),{},(0,x.Z)({},e,t.target.value)))}},G=function(e,t){return function(){var r=(0,M.Z)(regeneratorRuntime.mark((function r(o){var i,s,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=o.target.files,!(s=i?i[0]:void 0)){r.next=7;break}return r.next=5,(0,C.Z)(s,t);case 5:u=r.sent,n(O(O({},a),{},(0,x.Z)({},e,u)));case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};return(0,r.Z)(g.l0,{},void 0,(0,r.Z)("div",{className:"relative mb-12 flex"},void 0,(0,r.Z)(_.Z,{src:E,accept:U,onChange:G("header",2073600),onClear:("header",function(){return n((0,x.Z)({},"header",void 0))})}),(0,r.Z)(w.Z,{src:R,accept:U,onChange:G("avatar",16e4)})),(0,r.Z)(g.cw,{labelText:(0,r.Z)(d.Z,{id:"manage_group.fields.name_label",defaultMessage:"Group name (required)"}),hintText:(0,r.Z)(d.Z,{id:"manage_group.fields.name_help",defaultMessage:"This cannot be changed after the group is created."}),errors:T?[]:[P]},void 0,(0,r.Z)(g.II,{type:"text",placeholder:o.formatMessage(S.groupNamePlaceholder),value:p,onChange:j("display_name"),maxLength:Number(s.configuration.getIn(["groups","max_characters_name"]))})),(0,r.Z)(g.cw,{labelText:(0,r.Z)(d.Z,{id:"manage_group.fields.description_label",defaultMessage:"Description"})},void 0,(0,r.Z)(g.gx,{autoComplete:"off",placeholder:o.formatMessage(S.groupDescriptionPlaceholder),value:v,onChange:j("note"),maxLength:Number(s.configuration.getIn(["groups","max_characters_description"]))})),(0,r.Z)("div",{className:"pb-6"},void 0,(0,r.Z)(N.Z,{tags:h,onChange:function(e){n(O(O({},a),{},{tags:e}))},onAddItem:function(){n(O(O({},a),{},{tags:[].concat((0,y.Z)(h),[""])}))},onRemoveItem:function(e){var t=(0,y.Z)(h);t.splice(e,1),n(O(O({},a),{},{tags:t}))}})))},P=a(100);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(Object(a),!0).forEach((function(t){(0,x.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var U,j=function(e){var t=e.params,a=e.onChange,n=t.group_visibility||"everyone",o=function(e){a(E(E({},t),{},{group_visibility:e}))};return i.createElement(i.Fragment,null,(0,r.Z)(g.Kq,{className:"mx-auto max-w-xs py-10",space:2},void 0,(0,r.Z)(g.xv,{size:"3xl",weight:"bold",align:"center"},void 0,(0,r.Z)(d.Z,{id:"manage_group.get_started",defaultMessage:"Let’s get started!"})),(0,r.Z)(g.xv,{theme:"muted",align:"center"},void 0,(0,r.Z)(d.Z,{id:"manage_group.tagline",defaultMessage:"Groups connect you with others based on shared interests."}))),(0,r.Z)(g.l0,{},void 0,(0,r.Z)(g.cw,{labelText:(0,r.Z)(d.Z,{id:"manage_group.privacy.label",defaultMessage:"Privacy settings"})},void 0,(0,r.Z)(P.Z,{},void 0,(0,r.Z)(P.H,{label:(0,r.Z)(g.xv,{weight:"medium"},void 0,(0,r.Z)(d.Z,{id:"manage_group.privacy.public.label",defaultMessage:"Public"})),hint:(0,r.Z)(d.Z,{id:"manage_group.privacy.public.hint",defaultMessage:"Discoverable. Anyone can join."}),onSelect:function(){return o("everyone")},isSelected:"everyone"===n}),(0,r.Z)(P.H,{label:(0,r.Z)(g.xv,{weight:"medium"},void 0,(0,r.Z)(d.Z,{id:"manage_group.privacy.private.label",defaultMessage:"Private (Owner approval required)"})),hint:(0,r.Z)(d.Z,{id:"manage_group.privacy.private.hint",defaultMessage:"Discoverable. Users can join after their request is approved."}),onSelect:function(){return o("members_only")},isSelected:"members_only"===n}))),(0,r.Z)(g.xv,{size:"sm",theme:"muted",align:"center"},void 0,(0,r.Z)(d.Z,{id:"manage_group.privacy.hint",defaultMessage:"These settings cannot be changed later."}))))},G=(0,s.vU)({next:{id:"manage_group.next",defaultMessage:"Next"},create:{id:"manage_group.create",defaultMessage:"Create Group"},done:{id:"manage_group.done",defaultMessage:"Done"}});!function(e){e.ONE="ONE",e.TWO="TWO",e.THREE="THREE"}(U||(U={}));var L=function(e){var t=e.onClose,a=(0,u.Z)(),s=m.Nr,f=(0,i.useState)(null),v=(0,n.Z)(f,2),Z=v[0],h=v[1],y=(0,i.useState)({group_visibility:"everyone"}),M=(0,n.Z)(y,2),x=M[0],w=M[1],_=(0,i.useState)(U.ONE),N=(0,n.Z)(_,2),k=N[0],C=N[1],I=(0,l.lt)(),O=I.createGroup,S=I.isSubmitting,P=s(x.display_name||"",300),R=(0,l.BN)(P).data.isValid,E=function(){t("MANAGE_GROUP")},L=(0,i.useMemo)((function(){switch(k){case U.THREE:return a.formatMessage(G.done);case U.TWO:return a.formatMessage(G.create);default:return a.formatMessage(G.next)}}),[k]);return(0,r.Z)(g.u_,{title:k===U.ONE?(0,r.Z)(d.Z,{id:"navigation_bar.create_group",defaultMessage:"Create Group"}):"everyone"===x.group_visibility?(0,r.Z)(d.Z,{id:"navigation_bar.create_group.public",defaultMessage:"Create Public Group"}):(0,r.Z)(d.Z,{id:"navigation_bar.create_group.private",defaultMessage:"Create Private Group"}),confirmationAction:function(){switch(k){case U.ONE:C(U.TWO);break;case U.TWO:O(x,{onSuccess:function(e){C(U.THREE),h(e)},onError:function(e){if(e instanceof o.d7){var t,a=c.z.object({error:c.z.string()}).safeParse(null===(t=e.response)||void 0===t?void 0:t.data);a.success&&p.Z.error(a.data.error)}}});break;case U.THREE:E()}},confirmationText:L,confirmationDisabled:S||k===U.TWO&&!R,confirmationFullWidth:!0,onClose:E},void 0,(0,r.Z)(g.Kq,{space:2},void 0,function(){switch(k){case U.ONE:return(0,r.Z)(j,{params:x,onChange:w});case U.TWO:return(0,r.Z)(T,{params:x,onChange:w});case U.THREE:return(0,r.Z)(b,{group:Z})}}()))}},1253:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=(a(5),a(112),a(15),a(36)),o=a(2),i=a(576),s=a(832);t.default=function(){var e=(0,n.XY)(),t=e.groups,a=e.isFetching,u=e.isFetched,d=e.isError;return u&&0===t.length||d?null:(0,r.Z)(o.$L,{title:"My Groups"},void 0,a?new Array(3).fill(0).map((function(e,t){return(0,r.Z)(s.Z,{withJoinAction:!1},t)})):t.slice(0,3).map((function(e){return(0,r.Z)(i.Z,{group:e,withJoinAction:!1},e.id)})))}},1252:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=a(2142),o=a(2139),i=a(2),s=a(3),u=a(2178);t.default=function(){var e=(0,s.TL)();return(0,s.CG)((function(e){return(0,u.Fs)(e,u.RZ)}))?(0,r.Z)(i.Kq,{space:2},void 0,(0,r.Z)(i.Kq,{},void 0,(0,r.Z)(i.xv,{size:"lg",weight:"bold"},void 0,(0,r.Z)(n.Z,{id:"new_group_panel.title",defaultMessage:"Create Group"})),(0,r.Z)(i.xv,{theme:"muted",size:"sm"},void 0,(0,r.Z)(n.Z,{id:"new_group_panel.subtitle",defaultMessage:"Can't find what you're looking for? Start your own private or public group."}))),(0,r.Z)(i.zx,{onClick:function(){e((0,o.h7)("CREATE_GROUP"))},theme:"secondary",block:!0},void 0,(0,r.Z)(n.Z,{id:"new_group_panel.action",defaultMessage:"Create Group"}))):null}},1254:function(e,t,a){"use strict";a.r(t);var r=a(1202),n=(a(5),a(112),a(15),a(36)),o=a(2),i=a(576),s=a(832);t.default=function(){var e=(0,n.sp)(),t=e.groups,a=e.isFetching,u=e.isFetched,d=e.isError;return u&&0===t.length||d?null:(0,r.Z)(o.$L,{title:"Suggested Groups"},void 0,a?new Array(3).fill(0).map((function(e,t){return(0,r.Z)(s.Z,{withJoinAction:!1},t)})):t.slice(0,3).map((function(e){return(0,r.Z)(i.Z,{group:e,withJoinAction:!1},e.id)})))}},2178:function(e,t,a){"use strict";a.d(t,{Fs:function(){return n},RZ:function(){return r}});var r=1048576,n=function(e,t){var a=e.accounts_meta.get(e.me);if(null==a||!a.role)return!0;var r=a.getIn(["role","permissions"]);return!t||(r&t)===t}},2101:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/exclamation-circle-43072482.svg"},1433:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/layout-grid-572853f4.svg"},1432:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/layout-list-40a74e3e.svg"},1434:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/message-2-f70be650.svg"},730:function(e,t,a){"use strict";e.exports=a.p+"packs/icons/pin-filled-e13d1e8a.svg"},402:function(){}}]);
//# sourceMappingURL=groups-99dcdadcfb33adfed27c.chunk.js.map