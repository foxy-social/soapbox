{"version":3,"file":"packs/js/features/favourited_statuses-05be15442209ea9af649.chunk.js","mappings":"mPAAiwBA,GAAS,QAAe,CAACC,QAAQ,CAAC,GAAK,6BAA6B,eAAiB,iBAA+mG,UAAvhG,SAAoBC,GAAM,IAAIC,EAAyBC,EAAOF,EAAKE,OAAWC,GAAK,SAAcC,GAAS,UAAoDC,GAAhB,UAA0CC,QAAYC,GAAkB,QAAiBL,aAA+B,EAAOA,EAAOM,SAAS,CAACC,kBAAiB,IAAOH,EAAQC,EAAkBD,QAAQI,EAAcH,EAAkBG,cAAkBF,GAAUN,aAA+B,EAAOA,EAAOM,WAAW,GAAOG,EAAaH,EAASI,iBAAiBP,SAA2F,QAA5CJ,EAAqBI,EAAWG,gBAAyC,IAAvBP,OAA1D,EAA+FA,EAAqBW,eAAmBC,EAAYF,EAAa,aAAa,cAAcG,OAAOR,aAAiC,EAAOA,EAAQS,IAAQC,GAAU,SAAe,SAASC,GAAO,IAAIC,EAAsB,OAAqE,QAA7DA,EAAsBD,EAAME,aAAaC,IAAIP,UAA8C,IAAxBK,OAA+B,EAAOA,EAAsBG,SAAQ,iBAAsB,IAAOC,GAAU,SAAe,SAASL,GAAO,IAAIM,EAAuB,OAAuJ,KAAjF,QAA9DA,EAAuBN,EAAME,aAAaC,IAAIP,UAA+C,IAAzBU,OAAgC,EAAOA,EAAuBD,UAAkB,IAAOE,GAAQ,SAAe,SAASP,GAAO,IAAIQ,EAAuB,QAAwE,QAA9DA,EAAuBR,EAAME,aAAaC,IAAIP,UAA+C,IAAzBY,IAAiCA,EAAuBC,KAAM,IAAOC,GAAe,IAAAC,aAAY,KAAS,WAAcjB,EAAcP,GAAS,WAAqCE,GAASF,GAAS,QAAgCE,EAAQS,IAAM,GAAE,IAAI,CAACc,SAAQ,IAAO,CAACvB,aAAiC,EAAOA,EAAQS,KAAib,IAA5a,IAAAe,YAAU,WAAcnB,EAAaP,GAAS,WAAmCE,GAASF,GAAS,QAAaE,EAAQS,KAAKX,GAAS,QAA+BE,EAAQS,MAAWX,GAAS,QAAuBI,GAAa,GAAE,KAAI,IAAAsB,YAAU,WAAcxB,IAAUK,IAAcP,GAAS,QAAaE,EAAQS,KAAKX,GAAS,QAA+BE,EAAQS,KAAM,GAAE,CAACT,aAAiC,EAAOA,EAAQS,KAAQL,EAAe,OAAmB,OAAK,KAAO,CAAC,OAAE,GAAoB,OAAK,MAAM,CAACqB,UAAU,+BAA0B,GAAoB,OAAK,IAAiB,CAAChB,GAAG,mCAAmCiB,eAAe,0BAA2B,IAAI1B,EAAS,OAAmB,OAAK,IAAiB,CAAC,GAAI,IAAI2B,EAAatB,GAA0B,OAAK,IAAiB,CAACI,GAAG,mCAAmCiB,eAAe,kFAA8F,OAAK,IAAiB,CAACjB,GAAG,2CAA2CiB,eAAe,gDAAgD,OAAmB,OAAK,KAAO,CAACE,MAAM/B,EAAKgC,cAAcrC,EAASC,SAASqC,YAAW,EAAMC,aAAY,QAAM,GAAoB,OAAK,IAAW,CAACrB,UAAUA,EAAUsB,UAAU,sBAAsBd,QAAQA,EAAQF,UAAUA,EAAUiB,WAAWZ,EAAeM,aAAaA,IAAgB,C","sources":["webpack://soapbox/./app/soapbox/features/favourited-statuses/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import{OrderedSet as ImmutableOrderedSet}from'immutable';import debounce from'lodash/debounce';import React,{useCallback,useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{fetchAccount,fetchAccountByUsername}from'soapbox/actions/accounts';import{fetchFavouritedStatuses,expandFavouritedStatuses,fetchAccountFavouritedStatuses,expandAccountFavouritedStatuses}from'soapbox/actions/favourites';import{useAccountLookup}from'soapbox/api/hooks';import MissingIndicator from'soapbox/components/missing-indicator';import StatusList from'soapbox/components/status-list';import{Column}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useOwnAccount}from'soapbox/hooks';var messages=defineMessages({heading:{\"id\":\"column.favourited_statuses\",\"defaultMessage\":\"Liked posts\"}});/** Timeline displaying a user's favourited statuses. */var Favourites=function Favourites(_ref){var _ownAccount$username;var params=_ref.params;var intl=useIntl();var dispatch=useAppDispatch();var _useOwnAccount=useOwnAccount(),ownAccount=_useOwnAccount.account;var _useAccountLookup=useAccountLookup(params===null||params===void 0?void 0:params.username,{withRelationship:true}),account=_useAccountLookup.account,isUnavailable=_useAccountLookup.isUnavailable;var username=(params===null||params===void 0?void 0:params.username)||'';var isOwnAccount=username.toLowerCase()===(ownAccount===null||ownAccount===void 0?void 0:(_ownAccount$username=ownAccount.username)===null||_ownAccount$username===void 0?void 0:_ownAccount$username.toLowerCase());var timelineKey=isOwnAccount?'favourites':\"favourites:\".concat(account===null||account===void 0?void 0:account.id);var statusIds=useAppSelector(function(state){var _state$status_lists$g;return((_state$status_lists$g=state.status_lists.get(timelineKey))===null||_state$status_lists$g===void 0?void 0:_state$status_lists$g.items)||ImmutableOrderedSet();});var isLoading=useAppSelector(function(state){var _state$status_lists$g2;return((_state$status_lists$g2=state.status_lists.get(timelineKey))===null||_state$status_lists$g2===void 0?void 0:_state$status_lists$g2.isLoading)===true;});var hasMore=useAppSelector(function(state){var _state$status_lists$g3;return!!((_state$status_lists$g3=state.status_lists.get(timelineKey))!==null&&_state$status_lists$g3!==void 0&&_state$status_lists$g3.next);});var handleLoadMore=useCallback(debounce(function(){if(isOwnAccount){dispatch(expandFavouritedStatuses());}else if(account){dispatch(expandAccountFavouritedStatuses(account.id));}},300,{leading:true}),[account===null||account===void 0?void 0:account.id]);useEffect(function(){if(isOwnAccount)dispatch(fetchFavouritedStatuses());else{if(account){dispatch(fetchAccount(account.id));dispatch(fetchAccountFavouritedStatuses(account.id));}else{dispatch(fetchAccountByUsername(username));}}},[]);useEffect(function(){if(account&&!isOwnAccount){dispatch(fetchAccount(account.id));dispatch(fetchAccountFavouritedStatuses(account.id));}},[account===null||account===void 0?void 0:account.id]);if(isUnavailable){return/*#__PURE__*/_jsx(Column,{},void 0,/*#__PURE__*/_jsx(\"div\",{className:\"empty-column-indicator\"},void 0,/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_unavailable\",defaultMessage:\"Profile unavailable\"})));}if(!account){return/*#__PURE__*/_jsx(MissingIndicator,{});}var emptyMessage=isOwnAccount?/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.favourited_statuses\",defaultMessage:\"You don't have any liked posts yet. When you like one, it will show up here.\"}):/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.account_favourited_statuses\",defaultMessage:\"This user doesn't have any liked posts yet.\"});return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.heading),withHeader:false,transparent:true},void 0,/*#__PURE__*/_jsx(StatusList,{statusIds:statusIds,scrollKey:\"favourited_statuses\",hasMore:hasMore,isLoading:isLoading,onLoadMore:handleLoadMore,emptyMessage:emptyMessage}));};export default Favourites;"],"names":["messages","heading","_ref","_ownAccount$username","params","intl","dispatch","ownAccount","account","_useAccountLookup","username","withRelationship","isUnavailable","isOwnAccount","toLowerCase","timelineKey","concat","id","statusIds","state","_state$status_lists$g","status_lists","get","items","isLoading","_state$status_lists$g2","hasMore","_state$status_lists$g3","next","handleLoadMore","useCallback","leading","useEffect","className","defaultMessage","emptyMessage","label","formatMessage","withHeader","transparent","scrollKey","onLoadMore"],"sourceRoot":""}