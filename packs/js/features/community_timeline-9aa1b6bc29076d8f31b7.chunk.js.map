{"version":3,"file":"packs/js/features/community_timeline-9aa1b6bc29076d8f31b7.chunk.js","mappings":"iNAAmfA,GAAS,QAAe,CAACC,MAAM,CAAC,GAAK,mBAAmB,eAAiB,oBAA+5C,UAAr3C,WAA6B,IAAIC,GAAK,SAAcC,GAAS,UAAgDC,GAAlB,UAAqCC,MAAM,CAAC,YAAY,QAAQ,cAAkBC,GAAK,SAAe,SAASC,GAAO,IAAIC,EAAqB,OAAgE,QAAzDA,EAAqBD,EAAME,UAAUC,IAAI,oBAA6C,IAAvBF,OAA8B,EAAOA,EAAqBF,IAAK,IAAOK,EAAW,YAAgc,OAArM,IAAAC,YAAU,WAAWT,GAAS,QAAwB,CAACC,UAAUA,KAAa,IAAIS,EAAWV,GAAS,QAAuB,CAACC,UAAUA,KAAa,OAAO,WAAWS,GAAa,CAAE,GAAE,CAACT,KAA+B,OAAK,KAAO,CAACU,UAAU,gBAAgBC,MAAMb,EAAKc,cAAchB,EAASC,OAAOgB,aAAY,QAAM,GAAoB,OAAK,IAAc,CAACC,UAA7b,WAAyB,OAAOf,GAAS,QAAwB,CAACC,UAAUA,IAAa,QAA6X,GAAoB,OAAK,IAAS,CAACe,UAAU,GAAGC,OAAOT,EAAW,aAAaA,WAAW,GAAGS,OAAOT,GAAYS,OAAOhB,EAAU,SAAS,IAAIiB,OAAO,OAAOC,WAAnvB,SAAwBC,GAAOpB,GAAS,QAAwB,CAACqB,IAAIlB,EAAKiB,MAAMA,EAAMnB,UAAUA,IAAa,EAAgqBqB,cAA0B,OAAK,IAAiB,CAACC,GAAG,yBAAyBC,eAAe,mFAAmFC,WAAW,WAAY,C","sources":["webpack://soapbox/./app/soapbox/features/community-timeline/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{connectCommunityStream}from'soapbox/actions/streaming';import{expandCommunityTimeline}from'soapbox/actions/timelines';import PullToRefresh from'soapbox/components/pull-to-refresh';import{Column}from'soapbox/components/ui';import{useAppSelector,useAppDispatch,useSettings}from'soapbox/hooks';import Timeline from'../ui/components/timeline';var messages=defineMessages({title:{\"id\":\"column.community\",\"defaultMessage\":\"Local timeline\"}});var CommunityTimeline=function CommunityTimeline(){var intl=useIntl();var dispatch=useAppDispatch();var settings=useSettings();var onlyMedia=settings.getIn(['community','other','onlyMedia']);var next=useAppSelector(function(state){var _state$timelines$get;return(_state$timelines$get=state.timelines.get('community'))===null||_state$timelines$get===void 0?void 0:_state$timelines$get.next;});var timelineId='community';var handleLoadMore=function handleLoadMore(maxId){dispatch(expandCommunityTimeline({url:next,maxId:maxId,onlyMedia:onlyMedia}));};var handleRefresh=function handleRefresh(){return dispatch(expandCommunityTimeline({onlyMedia:onlyMedia}));};useEffect(function(){dispatch(expandCommunityTimeline({onlyMedia:onlyMedia}));var disconnect=dispatch(connectCommunityStream({onlyMedia:onlyMedia}));return function(){disconnect();};},[onlyMedia]);return/*#__PURE__*/_jsx(Column,{className:\"-mt-3 sm:mt-0\",label:intl.formatMessage(messages.title),transparent:true},void 0,/*#__PURE__*/_jsx(PullToRefresh,{onRefresh:handleRefresh},void 0,/*#__PURE__*/_jsx(Timeline,{scrollKey:\"\".concat(timelineId,\"_timeline\"),timelineId:\"\".concat(timelineId).concat(onlyMedia?':media':''),prefix:\"home\",onLoadMore:handleLoadMore,emptyMessage:/*#__PURE__*/_jsx(FormattedMessage,{id:\"empty_column.community\",defaultMessage:\"The local timeline is empty. Write something publicly to get the ball rolling!\"}),divideType:\"space\"})));};export default CommunityTimeline;"],"names":["messages","title","intl","dispatch","onlyMedia","getIn","next","state","_state$timelines$get","timelines","get","timelineId","useEffect","disconnect","className","label","formatMessage","transparent","onRefresh","scrollKey","concat","prefix","onLoadMore","maxId","url","emptyMessage","id","defaultMessage","divideType"],"sourceRoot":""}