"use strict";(self.webpackChunksoapbox=self.webpackChunksoapbox||[]).push([[70],{1364:function(e,s,t){t.r(s),t.d(s,{default:function(){return G}});var a=t(1202),n=t(2121),r=t(2122),o=t(2),u=t(939),c=(t(6),t(56),t(9),t(0),t(4),t(89),t(5),t(8),t(702)),i=t(1),d=t(2142),l=t(431),h=t(952),m=t(827),f=t(205),g=t(52),v=t(92),Z=t(574),p=t(669),M=t(2161),b=t(246),y=t(3),C=(0,n.vU)({accounts:{id:"search_results.accounts",defaultMessage:"People"},statuses:{id:"search_results.statuses",defaultMessage:"Posts"},hashtags:{id:"search_results.hashtags",defaultMessage:"Hashtags"}}),k=function(){var e,s,n=(0,i.useRef)(null),u=(0,r.Z)(),k=(0,y.TL)(),x=(0,y.CG)((function(e){return e.search.submittedValue})),G=(0,y.CG)((function(e){return e.search.results})),N=(0,y.CG)((function(e){return e.suggestions.items})),_=(0,y.CG)((function(e){return e.trending_statuses.items})),w=(0,y.CG)((function(e){return e.trends.items})),E=(0,y.CG)((function(e){return e.search.submitted})),L=(0,y.CG)((function(e){return e.search.filter})),H=(0,y.CG)((function(e){return e.search.accountId})),T=(0,y.CG)((function(e){var s;return null===(s=e.accounts.get(H))||void 0===s?void 0:s.acct})),U=function(e){return k((0,l.Tv)(e))},I=function(e){var s;return null===(s=P)||void 0===s?void 0:s.keySeq().findIndex((function(s){return s===e}))},S=function(e){if(P){var s=I(e)-1;D(s)}},z=function(e){if(P){var s=I(e)+1;D(s)}},D=function(e){var s;null===(s=n.current)||void 0===s||s.scrollIntoView({index:e,behavior:"smooth",done:function(){var s=document.querySelector('#search-results [data-index="'.concat(e,'"] .focusable'));null==s||s.focus()}})};(0,i.useEffect)((function(){k((0,h.AJ)())}),[]);var q,F,P,V,A=!1,J=b.Z;return"accounts"===L&&(A=G.accountsHasMore,q=G.accountsLoaded,J=p.Z,G.accounts&&G.accounts.size>0?s=G.accounts.map((function(e){return(0,a.Z)(v.Z,{id:e},e)})):E||!N||N.isEmpty()?q&&(F=(0,a.Z)("div",{className:"empty-column-indicator"},void 0,(0,a.Z)(d.Z,{id:"empty_column.search.accounts",defaultMessage:'There are no people results for "{term}"',values:{term:x}}))):s=N.map((function(e){return(0,a.Z)(v.Z,{id:e.account},e.account)}))),"statuses"===L&&(A=G.statusesHasMore,q=G.statusesLoaded,G.statuses&&G.statuses.size>0?(s=G.statuses.map((function(e){return(0,a.Z)(Z.Z,{id:e,onMoveUp:S,onMoveDown:z},e)})),P=G.statuses):E||!_||_.isEmpty()?q&&(F=(0,a.Z)("div",{className:"empty-column-indicator"},void 0,(0,a.Z)(d.Z,{id:"empty_column.search.statuses",defaultMessage:'There are no posts results for "{term}"',values:{term:x}}))):(s=_.map((function(e){return(0,a.Z)(Z.Z,{id:e,onMoveUp:S,onMoveDown:z},e)})),P=_)),"hashtags"===L&&(A=G.hashtagsHasMore,q=G.hashtagsLoaded,J=M.Z,G.hashtags&&G.hashtags.size>0?s=G.hashtags.map((function(e){return(0,a.Z)(m.Z,{hashtag:e},e.name)})):E||!N||N.isEmpty()?q&&(F=(0,a.Z)("div",{className:"empty-column-indicator"},void 0,(0,a.Z)(d.Z,{id:"empty_column.search.hashtags",defaultMessage:'There are no hashtags results for "{term}"',values:{term:x}}))):s=w.map((function(e){return(0,a.Z)(m.Z,{hashtag:e},e.name)}))),i.createElement(i.Fragment,null,H?(0,a.Z)(o.Ug,{className:"mb-4 border-b border-solid border-gray-200 px-2 pb-4 dark:border-gray-800",space:2},void 0,(0,a.Z)(f.Z,{iconClassName:"h-5 w-5",src:t(82),onClick:function(){return k((0,l.DH)(null))}}),(0,a.Z)(o.xv,{truncate:!0},void 0,(0,a.Z)(d.Z,{id:"search_results.filter_message",defaultMessage:"You are searching for posts from @{acct}.",values:{acct:(0,a.Z)("strong",{className:"break-words"},void 0,T)}}))):((V=[]).push({text:u.formatMessage(C.accounts),action:function(){return U("accounts")},name:"accounts"},{text:u.formatMessage(C.statuses),action:function(){return U("statuses")},name:"statuses"}),V.push({text:u.formatMessage(C.hashtags),action:function(){return U("hashtags")},name:"hashtags"}),(0,a.Z)(o.mQ,{items:V,activeItem:L})),F||i.createElement(g.Z,{id:"search-results",ref:n,key:L,scrollKey:"".concat(L,":").concat(x),isLoading:E&&!q,showLoading:E&&!q&&(null===(e=s)||void 0===e?void 0:e.isEmpty()),hasMore:A,onLoadMore:function(){return k((0,l.i9)(L))},placeholderComponent:J,placeholderCount:20,className:(0,c.default)({"divide-gray-200 dark:divide-gray-800 divide-solid divide-y":"statuses"===L}),itemClassName:(0,c.default)({"pb-4":"accounts"===L,"pb-3":"hashtags"===L})},s||[]))},x=(0,n.vU)({heading:{id:"column.search",defaultMessage:"Search"}}),G=function(){var e=(0,r.Z)();return(0,a.Z)(o.sg,{label:e.formatMessage(x.heading)},void 0,(0,a.Z)("div",{className:"space-y-4"},void 0,(0,a.Z)(u.Z,{autoFocus:!0,autoSubmit:!0}),(0,a.Z)(k,{})))}}}]);
//# sourceMappingURL=search-3fc29d34175a99862704.chunk.js.map