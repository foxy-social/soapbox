{"version":3,"file":"packs/js/features/settings-481e232a6dc553c75fd9.chunk.js","mappings":"0QAA+TA,GAAS,QAAe,CAACC,MAAM,CAAC,GAAK,0BAA0B,eAAiB,8CAA4qB,EAAzmB,WAA4B,IAAIC,EAAoDC,GAAhB,UAAuCA,QAAYC,GAAK,EAAAC,EAAA,KAAcC,GAAkB,SAA8I,OAAIH,GAAyC,OAAK,IAAK,CAAC,OAAE,GAAoB,OAAK,IAAS,CAACF,MAAMG,EAAKG,cAAcP,EAASC,aAAQ,GAAoB,OAAK,KAAO,CAACO,QAA6C,QAApCN,EAAiBC,EAAQM,eAAoC,IAAnBP,OAA0B,EAAOA,EAAiBQ,sBAAsBC,SAAzY,SAAsBC,GAAON,EAAkBO,OAAO,CAACH,sBAAsBE,EAAME,OAAON,SAAU,MAAsB,IAAyS,ECAte,GAAS,QAAe,CAACO,eAAe,CAAC,GAAK,iCAAiC,eAAiB,mBAAmBC,iBAAiB,CAAC,GAAK,6BAA6B,eAAiB,gBAAgBC,QAAQ,CAAC,GAAK,iBAAiB,eAAiB,WAAWC,OAAO,CAAC,GAAK,kBAAkB,eAAiB,UAAUC,YAAY,CAAC,GAAK,wBAAwB,eAAiB,gBAAgBC,eAAe,CAAC,GAAK,2BAA2B,eAAiB,mBAAmBC,aAAa,CAAC,GAAK,yBAAyB,eAAiB,iBAAiBC,cAAc,CAAC,GAAK,0BAA0B,eAAiB,kBAAkBC,YAAY,CAAC,GAAK,wBAAwB,eAAiB,gBAAgBC,WAAW,CAAC,GAAK,qBAAqB,eAAiB,eAAeC,WAAW,CAAC,GAAK,6BAA6B,eAAiB,eAAeC,YAAY,CAAC,GAAK,eAAe,eAAiB,YAAYC,WAAW,CAAC,GAAK,cAAc,eAAiB,WAAWC,MAAM,CAAC,GAAK,iBAAiB,eAAiB,SAASC,MAAM,CAAC,GAAK,iBAAiB,eAAiB,iBAAiBC,YAAY,CAAC,GAAK,uBAAuB,eAAiB,eAAeC,QAAQ,CAAC,GAAK,mBAAmB,eAAiB,WAAWC,QAAQ,CAAC,GAAK,mBAAmB,eAAiB,WAAWC,SAAS,CAAC,GAAK,oBAAoB,eAAiB,YAAYC,SAAS,CAAC,GAAK,oBAAoB,eAAiB,mBAAmBC,SAAS,CAAC,GAAK,oBAAoB,eAAiB,cAA+oK,EAA1lK,WAAoB,IAAIC,GAAS,UAAqBC,GAAQ,UAAiBjC,GAAK,EAAAC,EAAA,KAAciC,GAAI,SAAe,SAASC,GAAO,OAAOA,EAAMN,SAASO,IAAI,MAAO,IAAOC,GAAS,UAAiDtC,GAAhB,UAAuCA,QAAyuCuC,EAAaJ,EAAIK,MAAM,CAAC,WAAW,SAAsF,IAA7E,IAAAC,YAAU,WAAcH,EAASR,UAASG,GAAS,UAAY,GAAE,CAACA,KAAejC,EAAQ,OAAO,KAAK,IAAI0C,EAAY1C,EAAQ2C,cAAc3C,EAAQ4C,SAAS,OAAmB,OAAK,KAAO,CAAC9C,MAAMG,EAAKG,cAAc,EAAS4B,UAAUa,aAAY,EAAKC,YAAW,QAAO,GAAoB,OAAK,KAAK,CAACC,UAAU,YAAYC,QAAQ,gBAAW,GAAoB,OAAK,KAAW,CAAC,OAAE,GAAoB,OAAK,KAAU,CAACC,MAAMhD,EAAKG,cAAc,EAASyB,aAAyB,OAAK,KAAS,CAAC,OAAE,GAAoB,OAAK,IAAK,CAAC,OAAE,GAAoB,OAAK,IAAS,CAAC/B,MAAMG,EAAKG,cAAc,EAASgB,aAAa8B,QAA98C,WAAiC,OAAOhB,EAAQiB,KAAK,oBAAqB,QAAm6C,GAAoB,OAAK,OAAO,CAACJ,UAAU,4BAAuB,EAAOL,OAA6B,OAAK,KAAW,CAAC,OAAE,GAAoB,OAAK,KAAU,CAACO,MAAMhD,EAAKG,cAAc,EAASwB,aAAyB,OAAK,KAAS,CAAC,OAAE,GAAoB,OAAK,IAAK,CAAC,OAAE,GAAoB,OAAK,IAAS,CAAC9B,MAAMG,EAAKG,cAAc,EAASqB,OAAOyB,QAA/oC,WAA2B,OAAOhB,EAAQiB,KAAK,SAAU,KAA6nC,OAAK,IAAS,CAACrD,MAAMG,EAAKG,cAAc,EAASW,QAAQmC,QAA/pC,WAA4B,OAAOhB,EAAQiB,KAAK,UAAW,OAAkoCb,EAASR,UAAUQ,EAASP,WAAwB,gBAAoB,WAAe,MAAkB,OAAK,KAAW,CAAC,OAAE,GAAoB,OAAK,KAAU,CAACkB,MAAMhD,EAAKG,cAAc,EAAS0B,cAA0B,OAAK,KAAS,CAAC,OAAE,GAAoB,OAAK,IAAK,CAAC,OAAE,EAAOQ,EAASR,UAAuB,gBAAoB,WAAe,MAAkB,OAAK,IAAS,CAAChC,MAAMG,EAAKG,cAAc,EAASY,aAAakC,QAA3uF,WAAiC,OAAOhB,EAAQiB,KAAK,kBAAmB,KAAgtF,OAAK,IAAS,CAACrD,MAAMG,EAAKG,cAAc,EAASa,gBAAgBiC,QAAlvF,WAAoC,OAAOhB,EAAQiB,KAAK,qBAAsB,KAAotF,OAAK,IAAS,CAACrD,MAAMG,EAAKG,cAAc,EAASc,cAAcgC,QAA/vF,WAAyB,OAAOhB,EAAQiB,KAAK,gBAAiB,QAAwtF,GAAoB,OAAK,OAAO,CAAC,OAAE,EAAOZ,EAAatC,EAAKG,cAAc,EAASoB,YAAYvB,EAAKG,cAAc,EAASmB,gBAAgBe,EAASP,WAAuB,OAAK,IAAS,CAACjC,MAAMG,EAAKG,cAAc,EAAS2B,UAAUmB,QAAr6F,WAA8B,OAAOhB,EAAQiB,KAAK,mBAAoB,OAA+3Fb,EAASc,MAAmB,gBAAoB,WAAe,MAAkB,OAAK,KAAW,CAAC,OAAE,GAAoB,OAAK,KAAU,CAACH,OAAmB,OAAK,IAAiB,CAACI,GAAG,eAAeC,eAAe,cAA0B,OAAK,KAAS,CAAC,OAAE,GAAoB,OAAK,EAAiB,CAAC,KAAK,MAAkB,OAAK,KAAW,CAAC,OAAE,GAAoB,OAAK,KAAU,CAACL,MAAMhD,EAAKG,cAAc,EAASuB,iBAA6B,OAAK,KAAS,CAAC,OAAE,GAAoB,OAAK,IAAY,CAAC,KAAKW,EAASR,UAAUQ,EAAS1B,iBAA8B,gBAAoB,WAAe,MAAkB,OAAK,KAAW,CAAC,OAAE,GAAoB,OAAK,KAAU,CAACqC,MAAMhD,EAAKG,cAAc,EAASsB,WAAuB,OAAK,KAAS,CAAC,OAAE,GAAoB,OAAK,IAAK,CAAC,OAAE,EAAOY,EAAShB,aAAyB,OAAK,IAAS,CAACxB,MAAMG,EAAKG,cAAc,EAASkB,YAAY4B,QAAztG,WAAgC,OAAOhB,EAAQiB,KAAK,mBAAoB,IAAgrGb,EAASjB,aAAyB,OAAK,IAAS,CAACvB,MAAMG,EAAKG,cAAc,EAASiB,YAAY6B,QAApvG,WAAgC,OAAOhB,EAAQiB,KAAK,mBAAoB,IAA2sGb,EAASxB,UAAsB,OAAK,IAAS,CAAChB,MAAMG,EAAKG,cAAc,EAASU,SAASoC,QAAhjH,WAA6B,OAAOhB,EAAQiB,KAAK,oBAAqB,IAAsgHb,EAASiB,aAAajB,EAASkB,eAA2B,OAAK,IAAS,CAAC1D,MAAMG,EAAKG,cAAc,EAASS,kBAAkBqC,QAA34H,WAAiC,OAAOhB,EAAQiB,KAAK,sBAAuB,IAA+1Hb,EAAS1B,iBAA6B,OAAK,IAAS,CAACd,MAAMG,EAAKG,cAAc,EAASQ,gBAAgBsC,QAA96H,WAA6B,OAAOhB,EAAQiB,KAAK,oBAAqB,KAAq4Hb,EAASR,WAAuB,OAAK,IAAS,CAAChC,OAAmB,OAAK,KAAK,CAAC2D,MAAM,eAAU,EAAOxD,EAAKG,cAAc,EAASe,gBAAgB+B,QAAvyI,WAAmC,OAAOhB,EAAQiB,KAAK,oBAAqB,QAAkwI,C","sources":["webpack://soapbox/./app/soapbox/features/settings/components/messages-settings.tsx","webpack://soapbox/./app/soapbox/features/settings/index.tsx"],"sourcesContent":["import _jsx from\"@babel/runtime/helpers/esm/jsx\";import React from'react';import{defineMessages,useIntl}from'react-intl';import List,{ListItem}from'soapbox/components/list';import{Toggle}from'soapbox/components/ui';import{useOwnAccount}from'soapbox/hooks';import{useUpdateCredentials}from'soapbox/queries/accounts';var messages=defineMessages({label:{\"id\":\"settings.messages.label\",\"defaultMessage\":\"Allow users to start a new chat with you\"}});var MessagesSettings=function MessagesSettings(){var _account$pleroma;var _useOwnAccount=useOwnAccount(),account=_useOwnAccount.account;var intl=useIntl();var updateCredentials=useUpdateCredentials();var handleChange=function handleChange(event){updateCredentials.mutate({accepts_chat_messages:event.target.checked});};if(!account){return null;}return/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.label)},void 0,/*#__PURE__*/_jsx(Toggle,{checked:(_account$pleroma=account.pleroma)===null||_account$pleroma===void 0?void 0:_account$pleroma.accepts_chat_messages,onChange:handleChange})));};export default MessagesSettings;","import _jsx from\"@babel/runtime/helpers/esm/jsx\";import\"core-js/modules/es.array.push.js\";import React,{useEffect}from'react';import{defineMessages,FormattedMessage,useIntl}from'react-intl';import{useHistory}from'react-router-dom';import{fetchMfa}from'soapbox/actions/mfa';import List,{ListItem}from'soapbox/components/list';import{Card,CardBody,CardHeader,CardTitle,Column,Text}from'soapbox/components/ui';import{useAppDispatch,useAppSelector,useFeatures,useOwnAccount}from'soapbox/hooks';import Preferences from'../preferences';import MessagesSettings from'./components/messages-settings';var messages=defineMessages({accountAliases:{\"id\":\"navigation_bar.account_aliases\",\"defaultMessage\":\"Account aliases\"},accountMigration:{\"id\":\"settings.account_migration\",\"defaultMessage\":\"Move Account\"},backups:{\"id\":\"column.backups\",\"defaultMessage\":\"Backups\"},blocks:{\"id\":\"settings.blocks\",\"defaultMessage\":\"Blocks\"},changeEmail:{\"id\":\"settings.change_email\",\"defaultMessage\":\"Change Email\"},changePassword:{\"id\":\"settings.change_password\",\"defaultMessage\":\"Change Password\"},configureMfa:{\"id\":\"settings.configure_mfa\",\"defaultMessage\":\"Configure MFA\"},deleteAccount:{\"id\":\"settings.delete_account\",\"defaultMessage\":\"Delete Account\"},editProfile:{\"id\":\"settings.edit_profile\",\"defaultMessage\":\"Edit Profile\"},exportData:{\"id\":\"column.export_data\",\"defaultMessage\":\"Export data\"},importData:{\"id\":\"navigation_bar.import_data\",\"defaultMessage\":\"Import data\"},mfaDisabled:{\"id\":\"mfa.disabled\",\"defaultMessage\":\"Disabled\"},mfaEnabled:{\"id\":\"mfa.enabled\",\"defaultMessage\":\"Enabled\"},mutes:{\"id\":\"settings.mutes\",\"defaultMessage\":\"Mutes\"},other:{\"id\":\"settings.other\",\"defaultMessage\":\"Other options\"},preferences:{\"id\":\"settings.preferences\",\"defaultMessage\":\"Preferences\"},privacy:{\"id\":\"settings.privacy\",\"defaultMessage\":\"Privacy\"},profile:{\"id\":\"settings.profile\",\"defaultMessage\":\"Profile\"},security:{\"id\":\"settings.security\",\"defaultMessage\":\"Security\"},sessions:{\"id\":\"settings.sessions\",\"defaultMessage\":\"Active sessions\"},settings:{\"id\":\"settings.settings\",\"defaultMessage\":\"Settings\"}});/** User settings page. */var Settings=function Settings(){var dispatch=useAppDispatch();var history=useHistory();var intl=useIntl();var mfa=useAppSelector(function(state){return state.security.get('mfa');});var features=useFeatures();var _useOwnAccount=useOwnAccount(),account=_useOwnAccount.account;var navigateToChangeEmail=function navigateToChangeEmail(){return history.push('/settings/email');};var navigateToChangePassword=function navigateToChangePassword(){return history.push('/settings/password');};var navigateToMfa=function navigateToMfa(){return history.push('/settings/mfa');};var navigateToSessions=function navigateToSessions(){return history.push('/settings/tokens');};var navigateToEditProfile=function navigateToEditProfile(){return history.push('/settings/profile');};var navigateToDeleteAccount=function navigateToDeleteAccount(){return history.push('/settings/account');};var navigateToMoveAccount=function navigateToMoveAccount(){return history.push('/settings/migration');};var navigateToAliases=function navigateToAliases(){return history.push('/settings/aliases');};var navigateToBackups=function navigateToBackups(){return history.push('/settings/backups');};var navigateToImportData=function navigateToImportData(){return history.push('/settings/import');};var navigateToExportData=function navigateToExportData(){return history.push('/settings/export');};var navigateToMutes=function navigateToMutes(){return history.push('/mutes');};var navigateToBlocks=function navigateToBlocks(){return history.push('/blocks');};var isMfaEnabled=mfa.getIn(['settings','totp']);useEffect(function(){if(features.security)dispatch(fetchMfa());},[dispatch]);if(!account)return null;var displayName=account.display_name||account.username;return/*#__PURE__*/_jsx(Column,{label:intl.formatMessage(messages.settings),transparent:true,withHeader:false},void 0,/*#__PURE__*/_jsx(Card,{className:\"space-y-4\",variant:\"rounded\"},void 0,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.profile)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.editProfile),onClick:navigateToEditProfile},void 0,/*#__PURE__*/_jsx(\"span\",{className:\"max-w-full truncate\"},void 0,displayName)))),/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.privacy)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.mutes),onClick:navigateToMutes}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.blocks),onClick:navigateToBlocks}))),(features.security||features.sessions)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.security)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,features.security&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.changeEmail),onClick:navigateToChangeEmail}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.changePassword),onClick:navigateToChangePassword}),/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.configureMfa),onClick:navigateToMfa},void 0,/*#__PURE__*/_jsx(\"span\",{},void 0,isMfaEnabled?intl.formatMessage(messages.mfaEnabled):intl.formatMessage(messages.mfaDisabled)))),features.sessions&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.sessions),onClick:navigateToSessions})))),features.chats?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:/*#__PURE__*/_jsx(FormattedMessage,{id:\"column.chats\",defaultMessage:\"Chats\"})})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(MessagesSettings,{}))):null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.preferences)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(Preferences,{})),(features.security||features.accountAliases)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/_jsx(CardHeader,{},void 0,/*#__PURE__*/_jsx(CardTitle,{title:intl.formatMessage(messages.other)})),/*#__PURE__*/_jsx(CardBody,{},void 0,/*#__PURE__*/_jsx(List,{},void 0,features.importData&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.importData),onClick:navigateToImportData}),features.exportData&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.exportData),onClick:navigateToExportData}),features.backups&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.backups),onClick:navigateToBackups}),features.federating&&(features.accountMoving?/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.accountMigration),onClick:navigateToMoveAccount}):features.accountAliases&&/*#__PURE__*/_jsx(ListItem,{label:intl.formatMessage(messages.accountAliases),onClick:navigateToAliases})),features.security&&/*#__PURE__*/_jsx(ListItem,{label:/*#__PURE__*/_jsx(Text,{theme:\"danger\"},void 0,intl.formatMessage(messages.deleteAccount)),onClick:navigateToDeleteAccount}))))));};export default Settings;"],"names":["messages","label","_account$pleroma","account","intl","useIntl","updateCredentials","formatMessage","checked","pleroma","accepts_chat_messages","onChange","event","mutate","target","accountAliases","accountMigration","backups","blocks","changeEmail","changePassword","configureMfa","deleteAccount","editProfile","exportData","importData","mfaDisabled","mfaEnabled","mutes","other","preferences","privacy","profile","security","sessions","settings","dispatch","history","mfa","state","get","features","isMfaEnabled","getIn","useEffect","displayName","display_name","username","transparent","withHeader","className","variant","title","onClick","push","chats","id","defaultMessage","federating","accountMoving","theme"],"sourceRoot":""}